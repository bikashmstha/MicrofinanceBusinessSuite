/*
 * File: app/view/PanSearchPopUpWin.js
 *
 * This file was generated by Sencha Architect version 2.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.PanSearchPopUpWin', {
    extend: 'Ext.window.Window',

    draggable: false,
    height: 520,
    id: 'PanSearchPopUpWin',
    itemId: 'PanSearchPopUpWin',
    width: 732,
    autoScroll: true,
    title: 'Search Details:',
    modal: true,

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'textfield',
                    itemId: 'pan',
                    width: 268,
                    fieldLabel: 'PAN',
                    readOnly: true
                },
                {
                    xtype: 'button',
                    itemId: 'btnDetail',
                    margin: '0 0 0 500',
                    text: 'Click for Detail...',
                    listeners: {
                        click: {
                            fn: me.onBtnDetailClick,
                            scope: me
                        }
                    }
                },
                {
                    xtype: 'container',
                    frame: true,
                    height: 31,
                    items: [
                        {
                            xtype: 'label',
                            height: 14,
                            width: 47,
                            text: 'Taxpayer Information'
                        }
                    ]
                },
                {
                    xtype: 'fieldcontainer',
                    height: 402,
                    width: 698,
                    layout: {
                        type: 'anchor'
                    },
                    fieldLabel: '',
                    labelWidth: 130,
                    items: [
                        {
                            xtype: 'textfield',
                            itemId: 'taxPayerName',
                            width: 493,
                            fieldLabel: 'Taxpayer\'s Name',
                            readOnly: true
                        },
                        {
                            xtype: 'textfield',
                            itemId: 'tradeName',
                            width: 492,
                            fieldLabel: 'Trade Name',
                            readOnly: true
                        },
                        {
                            xtype: 'textfield',
                            itemId: 'otherBussiness',
                            width: 492,
                            fieldLabel: 'Other Bussiness',
                            readOnly: true
                        },
                        {
                            xtype: 'panel',
                            height: 220,
                            width: 702,
                            layout: {
                                type: 'column'
                            },
                            title: 'Address',
                            items: [
                                {
                                    xtype: 'label',
                                    height: 22,
                                    margin: '20 0 0 0',
                                    width: 51,
                                    text: 'Ward No'
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'wardNoPermanent',
                                    margin: '0 0 0 63',
                                    width: 272,
                                    fieldLabel: 'Permanent',
                                    labelAlign: 'top',
                                    labelStyle: 'text-align:center',
                                    labelWidth: 110,
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    width: 245,
                                    fieldLabel: 'Temporary',
                                    labelAlign: 'top',
                                    labelStyle: 'text-align:center',
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'cityPermanent',
                                    width: 385,
                                    fieldLabel: 'Muncipality / VDC',
                                    labelWidth: 110,
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    width: 244,
                                    fieldLabel: '',
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'streetPermanent',
                                    width: 385,
                                    fieldLabel: 'Street Name',
                                    labelWidth: 110,
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    width: 244,
                                    fieldLabel: '',
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'districtPermanent',
                                    width: 385,
                                    fieldLabel: 'District',
                                    labelWidth: 110,
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    width: 245,
                                    fieldLabel: '',
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'phonePermanent',
                                    width: 385,
                                    fieldLabel: 'Phone',
                                    labelWidth: 110,
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    width: 245,
                                    fieldLabel: '',
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'emailPermanent',
                                    width: 386,
                                    fieldLabel: 'Email',
                                    labelWidth: 110,
                                    readOnly: true
                                },
                                {
                                    xtype: 'textfield',
                                    width: 242,
                                    fieldLabel: '',
                                    readOnly: true
                                }
                            ]
                        },
                        {
                            xtype: 'gridpanel',
                            title: 'Registration Detail',
                            store: 'PANSearchRegDetails',
                            columns: [
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'RegIn',
                                    text: 'Registered In'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'RegDate',
                                    text: 'Registration Date'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'Status',
                                    text: 'Status'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'EndDate',
                                    text: 'End Date'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'Office',
                                    text: 'Office'
                                }
                            ]
                        },
                        {
                            xtype: 'gridpanel',
                            title: 'Outstanding as of Date',
                            store: 'PANSearchOutstandingAsaDate',
                            columns: [
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'OutstandingIn',
                                    text: 'Outstanding In'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'Tax',
                                    text: 'Tax'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'Penalty',
                                    text: 'Penalty'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'Interests',
                                    text: 'Interests'
                                }
                            ]
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    },

    onBtnDetailClick: function(button, e, eOpts) {
        Ext.MessageBox.wait("Loading...", 'Please Wait');

        var pan=Ext.ComponentQuery.query('#PanSearchPopUpWin')[0].Pan;
        var controller =MyApp.app.getController('SearchDetails');
        MyApp.app.controllers.add(controller); 	


        var vw = Ext.create('MyApp.view.SearchDetails',{  });

        var winPopup = Ext.create('MyApp.view.popUpWinForSearchDetails',{
            autoScroll:true,
            width:1200,
            height:550,
            items:[vw], 
            draggable:true,
            maximizable:true,
            minimizable:true,
            modal:true,
            resizable:false,
            title:"",
            y:25

        });


        winPopup.pan=pan;
        controller.init();

        setTimeout(function(){
            Ext.MessageBox.hide(); 
            winPopup.show();


        },5000);



    }

});