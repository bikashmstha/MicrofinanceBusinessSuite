/*
 * File: app/view/EstimatedReturn.js
 *
 * This file was generated by Sencha Architect version 2.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.EstimatedReturn', {
    extend: 'Ext.panel.Panel',

    frame: true,
    height: 1000,
    id: '',
    itemId: 'frm_EstimatedReturns',
    autoScroll: false,
    layout: {
        align: 'stretch',
        type: 'vbox'
    },
    bodyPadding: 10,
    title: 'Estimated Return',

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'form',
                    flex: 1,
                    frame: true,
                    height: 950,
                    itemId: 'frm_EstimatedReturn',
                    margin: 5,
                    autoScroll: true,
                    bodyPadding: 10,
                    items: [
                        {
                            xtype: 'container',
                            frame: true,
                            height: 200,
                            itemId: 'cntHeaderEst',
                            margin: '0 0 5 0',
                            layout: {
                                align: 'stretch',
                                type: 'vbox'
                            },
                            items: [
                                {
                                    xtype: 'container',
                                    flex: 1,
                                    height: 30,
                                    maxHeight: 30,
                                    layout: {
                                        type: 'table'
                                    },
                                    items: [
                                        {
                                            xtype: 'displayfield',
                                            height: 25,
                                            hidden: false,
                                            id: 'hdnlblEstimateReturnAction',
                                            itemId: 'hdnlblEstimateReturnAction',
                                            maxHeight: 25,
                                            width: 196,
                                            fieldStyle: '{color:red;}',
                                            fieldLabel: '',
                                            hideLabel: false
                                        },
                                        {
                                            xtype: 'label',
                                            height: 14,
                                            hidden: true,
                                            maxHeight: 25,
                                            padding: '0 30 0 380',
                                            style: 'font-size:12;\r\ntext-align:right;',
                                            text: 'फाराम-आयकर-डे-'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'label',
                                    flex: 1,
                                    style: 'font-weight:bold;\r\nfont-size:12;\r\ntext-align:center;',
                                    text: 'अनुसूची - २'
                                },
                                {
                                    xtype: 'label',
                                    flex: 1,
                                    style: 'font-size:20px;\r\n\r\n\r\ntext-align:center;',
                                    text: 'अनुमानित करको विवरण'
                                },
                                {
                                    xtype: 'label',
                                    flex: 1,
                                    style: 'font-size:12;\r\ntext-align:center;',
                                    text: '(नियम ३४ संग सम्बधित)'
                                },
                                {
                                    xtype: 'displayfield',
                                    flex: 1,
                                    height: 25,
                                    itemId: 'dispEst_Ret_submissionNo',
                                    maxHeight: 25,
                                    width: 245,
                                    fieldLabel: 'सब्मिशन नं',
                                    labelWidth: 150
                                },
                                {
                                    xtype: 'container',
                                    height: 25,
                                    layout: {
                                        align: 'stretch',
                                        type: 'hbox'
                                    },
                                    items: [
                                        {
                                            xtype: 'displayfield',
                                            flex: 1,
                                            itemId: 'Est_Ret_IROName',
                                            width: 400,
                                            fieldLabel: 'आन्तरिक राजस्व कार्यालयको नाम',
                                            labelSeparator: ' ',
                                            labelWidth: 180
                                        },
                                        {
                                            xtype: 'combobox',
                                            flex: 1,
                                            itemId: 'ddlEst_Ret_ReturnType',
                                            margin: 0,
                                            width: 450,
                                            fieldLabel: 'अनुमानित कर फिर्ताको प्रकार',
                                            labelWidth: 170,
                                            allowBlank: false,
                                            emptyText: '---छान्नुहोस्.---',
                                            editable: false,
                                            displayField: 'TypeName',
                                            forceSelection: true,
                                            queryMode: 'local',
                                            store: 'Est_Ret_Type',
                                            typeAhead: true,
                                            valueField: 'TypeID'
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'form',
                            frame: true,
                            height: 450,
                            margin: '0 0 5 0',
                            layout: {
                                columns: 6,
                                type: 'table'
                            },
                            bodyPadding: 10,
                            collapseFirst: false,
                            collapsible: false,
                            title: '१ करदाता सम्बन्धी विवरण',
                            titleCollapse: false,
                            items: [
                                {
                                    xtype: 'container',
                                    cls: 'extTbl',
                                    height: 340,
                                    maxHeight: 340,
                                    minHeight: 340,
                                    layout: {
                                        columns: 6,
                                        type: 'table'
                                    },
                                    items: [
                                        {
                                            xtype: 'textfield',
                                            colspan: 3,
                                            itemId: 'txtEst_Ret_PanNo',
                                            margin: '5px 0 0 0',
                                            fieldLabel: 'स्था . ले . नं . ',
                                            labelWidth: 80,
                                            allowBlank: false,
                                            emptyText: '',
                                            enableKeyEvents: true,
                                            enforceMaxLength: true,
                                            maskRe: /[0-9]/,
                                            maxLength: 9,
                                            minLength: 9,
                                            size: 9
                                        },
                                        {
                                            xtype: 'textfield',
                                            disabled: true,
                                            itemId: 'txtEst_Ret_SUBMISSION_NO',
                                            margin: '5px 0 0 0',
                                            fieldLabel: 'सवमिसन न.',
                                            enableKeyEvents: true,
                                            enforceMaxLength: true,
                                            maxLength: 12,
                                            minLength: 12,
                                            size: 12
                                        },
                                        {
                                            xtype: 'textfield',
                                            colspan: 3,
                                            itemId: 'txtEst_Ret_AccType',
                                            margin: '5px 0 0 10px',
                                            width: 150,
                                            readOnly: true,
                                            fieldLabel: 'खाताको किसिम',
                                            allowBlank: false,
                                            enforceMaxLength: true,
                                            maxLength: 2,
                                            minLength: 2,
                                            size: 2
                                        },
                                        {
                                            xtype: 'textfield',
                                            colspan: 6,
                                            itemId: 'txtEst_Ret_Name',
                                            margin: '5px 0 0 0',
                                            width: 720,
                                            readOnly: true,
                                            fieldLabel: 'नाम ',
                                            labelWidth: 80
                                        },
                                        {
                                            xtype: 'label',
                                            colspan: 1,
                                            margin: '5px 0 0 0',
                                            style: 'margin-right:45px;',
                                            text: 'ठेगाना '
                                        },
                                        {
                                            xtype: 'label',
                                            margin: '5px 0 0 0',
                                            style: 'margin-right:30px;',
                                            text: 'घर नं .'
                                        },
                                        {
                                            xtype: 'label',
                                            margin: '5px 0 0 0',
                                            style: 'margin-right:30px;',
                                            text: 'वार्ड नं .'
                                        },
                                        {
                                            xtype: 'label',
                                            margin: '5px 0 0 0',
                                            style: 'margin-right:30px;',
                                            text: 'गांउ / टोल र बाटोको नाम'
                                        },
                                        {
                                            xtype: 'radiogroup',
                                            itemId: 'Est_Ret_VDC',
                                            margin: '5px 0 0 0',
                                            width: 200,
                                            fieldLabel: '',
                                            columns: 2,
                                            items: [
                                                {
                                                    xtype: 'radiofield',
                                                    itemId: 'rdl_Est_Metro_Mun',
                                                    readOnly: true,
                                                    boxLabel: 'म. न. पा.'
                                                },
                                                {
                                                    xtype: 'radiofield',
                                                    itemId: 'rdl_Est_Sub_Metro_Mun',
                                                    readOnly: true,
                                                    boxLabel: 'उ. म. न. पा.'
                                                },
                                                {
                                                    xtype: 'radiofield',
                                                    itemId: 'rdl_Est_Mun',
                                                    readOnly: true,
                                                    boxLabel: 'न. पा.'
                                                },
                                                {
                                                    xtype: 'radiofield',
                                                    itemId: 'rdl_Est_VDC',
                                                    readOnly: true,
                                                    boxLabel: 'गा. वि. स.'
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'label',
                                            margin: '5px 0 0 0',
                                            style: 'margin-right:50px;',
                                            text: 'जिल्ला'
                                        },
                                        {
                                            xtype: 'textfield',
                                            colspan: 2,
                                            itemId: 'txtEst_Ret_HouseNo',
                                            margin: '5 0 0 90',
                                            width: 50,
                                            readOnly: true
                                        },
                                        {
                                            xtype: 'textfield',
                                            itemId: 'txtEst_Ret_WardNo',
                                            margin: '',
                                            width: 50,
                                            readOnly: true
                                        },
                                        {
                                            xtype: 'textfield',
                                            itemId: 'txtEst_Ret_ToleName',
                                            margin: '',
                                            width: 140,
                                            readOnly: true
                                        },
                                        {
                                            xtype: 'textfield',
                                            itemId: 'txtEst_Ret_VDCName',
                                            margin: '',
                                            width: 200,
                                            readOnly: true
                                        },
                                        {
                                            xtype: 'textfield',
                                            itemId: 'txtEst_Ret_DistrictName',
                                            margin: '',
                                            width: 100,
                                            readOnly: true
                                        },
                                        {
                                            xtype: 'textfield',
                                            colspan: 2,
                                            itemId: 'txtEst_Ret_Phone',
                                            margin: '5px 0 0 0',
                                            width: 150,
                                            readOnly: true,
                                            fieldLabel: 'फोन ',
                                            labelWidth: 60,
                                            enforceMaxLength: false
                                        },
                                        {
                                            xtype: 'textfield',
                                            colspan: 2,
                                            itemId: 'txtEst_Ret_Mobile',
                                            margin: '5px 0 0 0',
                                            width: 207,
                                            readOnly: true,
                                            fieldLabel: 'मोबाइल ',
                                            labelWidth: 62
                                        },
                                        {
                                            xtype: 'textfield',
                                            colspan: 2,
                                            itemId: 'txtEst_Ret_Email',
                                            margin: '5px 0 0 0',
                                            width: 340,
                                            readOnly: true,
                                            fieldLabel: 'इमेल ',
                                            labelWidth: 60
                                        },
                                        {
                                            xtype: 'combobox',
                                            colspan: 3,
                                            disabled: false,
                                            itemId: 'ddlEstFysicalYear',
                                            margin: '5 0 0 5',
                                            fieldLabel: 'आय बर्ष ',
                                            labelWidth: 60,
                                            emptyText: '---छान्नुहोस्.---',
                                            displayField: 'fiscalYear',
                                            forceSelection: true,
                                            store: 'FiscalYear',
                                            typeAhead: true,
                                            valueField: 'fiscalYear'
                                        },
                                        {
                                            xtype: 'label',
                                            colspan: 4,
                                            margin: '0 0 0 4',
                                            width: 400,
                                            text: '( भर्ने उदाहरण २०६२.०६३ )'
                                        },
                                        {
                                            xtype: 'displayfield',
                                            colspan: 6,
                                            itemId: 'Est_Ret_TpOfficeType',
                                            width: 400,
                                            fieldLabel: 'करदाताको स्थिति '
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'form',
                            frame: true,
                            margin: '0 0 5 0',
                            layout: {
                                columns: 3,
                                type: 'table'
                            },
                            bodyPadding: 10,
                            collapseFirst: false,
                            collapsible: false,
                            title: '२ अनुमानित करको गणना',
                            titleCollapse: false,
                            items: [
                                {
                                    xtype: 'container',
                                    colspan: 3,
                                    cls: 'extTbl',
                                    style: 'text-align:right;',
                                    items: [
                                        {
                                            xtype: 'label',
                                            margin: '0 90px 0 0',
                                            text: 'रू'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '१ '
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        //return !isNaN(value)?true:"Invalid Amount.";
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Income',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'चालु आ.व. मा व्यवसाय वा लगानीबाट प्राप्त हुने अनुमानित मुनाफा वा लाभ',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    msgTarget: 'side',
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18,
                                    vtypeText: 'asdasd'
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '२'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        //return !isNaN(value)?true:"Invalid Amount.";
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Deductions',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'कट्टी हुने रकम',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '३'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        //return !isNaN(value)?true:"Invalid Amount.";
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Exempt_Amount',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'आयकर ऐन २०५८ को दफा ११ तथा ६४ बमोजिमको कर छुट हुने रकम',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '४'
                                },
                                {
                                    xtype: 'textfield',
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Assessable_Income',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    readOnly: true,
                                    value: '0.00',
                                    fieldLabel: 'आय वा नोक्सानी &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row 1 - row(2+3)',
                                    labelSeparator: ' ',
                                    labelWidth: 600
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '५'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        //return !isNaN(value)?true:"Invalid Amount.";
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Income_Oth_Bus_Inv',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'अन्य व्यवसाय वा लगानीको आय',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '६'
                                },
                                {
                                    xtype: 'textfield',
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Total_Assessable_Income',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    readOnly: true,
                                    value: '0.00',
                                    fieldLabel: 'निर्धारण योग्य आय  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row 4 + row5',
                                    labelSeparator: ' ',
                                    labelWidth: 600
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '७'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        //return !isNaN(value)?true:"Invalid Amount.";
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Donation_To_Exempt_Org',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'कर छुट भएको संस्थालाई दिएको चन्दा',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18,
                                    regexText: 'invalid amount'
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '८'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        //return !isNaN(value)?true:"Invalid Amount.";
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Retirement_Contribution',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'अवकाश योगदान',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '९'
                                },
                                {
                                    xtype: 'textfield',
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Taxable_Income',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    readOnly: true,
                                    value: '0.00',
                                    fieldLabel: 'करयोग्य आय  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row 6 - row(7+8)',
                                    labelSeparator: ' ',
                                    labelWidth: 600
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '१०'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Tax_Liability',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'उपरोक्त बमोजिमको करयोग्य आयमा आयकर ऐन २०५८ को अनुसुचि १ बमोजिम लाग्ने कर',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '११'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_TDS_Paid_Amt',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'स्रोतमा कट्टि भएको रकम',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '१२'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Inst_Paid_Amt',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'किस्ता रकम',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                }
                            ]
                        },
                        {
                            xtype: 'form',
                            frame: true,
                            margin: '0 0 5 0',
                            layout: {
                                columns: 3,
                                type: 'table'
                            },
                            bodyPadding: 10,
                            collapseFirst: false,
                            collapsible: false,
                            title: '३ अनुमानित विदेशी कर',
                            titleCollapse: false,
                            items: [
                                {
                                    xtype: 'container',
                                    colspan: 3,
                                    cls: '',
                                    style: 'text-align:right;',
                                    width: 725,
                                    items: [
                                        {
                                            xtype: 'label',
                                            margin: '0 90px 0 0',
                                            text: 'रू'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 25px 0 0',
                                    text: '१'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Foreign_Tax',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'चालु आयबर्षमा विदेशी स्रोतको आय भएमा विदेशमा तिरेको वा तिर्नु पर्ने अनुमानित आयकर रकम',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '२'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Income_Sent_Abroad',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'गैर बासिन्दा व्यक्तिको नेपाल स्थित स्थायी संस्थापनले चालु आयबर्षमा विदेश पठाउने आय',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 20px 0 0',
                                    text: '३'
                                },
                                {
                                    xtype: 'textfield',
                                    validator: function(value) {
                                        return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                    },
                                    colspan: 2,
                                    itemId: 'txtEst_Ret_Tax_OnIncome_Sent_Abraod',
                                    margin: '4px 0 0 0',
                                    width: 800,
                                    fieldCls: 'TxtRight',
                                    fieldLabel: 'विदेश पठाउने आयमा लाग्ने कर',
                                    labelSeparator: ' ',
                                    labelWidth: 600,
                                    enforceMaxLength: true,
                                    maskRe: /[0-9.]/,
                                    maxLength: 18
                                }
                            ]
                        },
                        {
                            xtype: 'form',
                            frame: true,
                            height: 220,
                            margin: '0 0 5 0',
                            layout: {
                                align: 'stretch',
                                type: 'vbox'
                            },
                            bodyPadding: 10,
                            collapseFirst: false,
                            collapsible: false,
                            title: '४ कर दाखिला विवरण',
                            titleCollapse: false,
                            items: [
                                {
                                    xtype: 'container',
                                    height: 20,
                                    padding: '',
                                    layout: {
                                        align: 'stretch',
                                        padding: '',
                                        type: 'hbox'
                                    },
                                    items: [
                                        {
                                            xtype: 'label',
                                            width: 50,
                                            text: ''
                                        },
                                        {
                                            xtype: 'label',
                                            margins: '',
                                            style: 'text-align:center;',
                                            width: 110,
                                            text: '१'
                                        },
                                        {
                                            xtype: 'label',
                                            style: 'text-align:center;',
                                            width: 110,
                                            text: '२'
                                        },
                                        {
                                            xtype: 'label',
                                            style: 'text-align:center;',
                                            width: 120,
                                            text: '३'
                                        },
                                        {
                                            xtype: 'label',
                                            style: 'text-align:center;',
                                            width: 300,
                                            text: '४'
                                        },
                                        {
                                            xtype: 'label',
                                            style: 'text-align:center;',
                                            width: 100,
                                            text: '५'
                                        },
                                        {
                                            xtype: 'label',
                                            style: 'text-align:center;',
                                            width: 100,
                                            text: '६'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'gridpanel',
                                    flex: 1,
                                    itemId: 'Est_Ret_VoucherList',
                                    title: '',
                                    store: 'Est_Ret_VoucherList',
                                    columns: [
                                        {
                                            xtype: 'rownumberer',
                                            width: 50,
                                            text: 'क्र. स.'
                                        },
                                        {
                                            xtype: 'gridcolumn',
                                            draggable: false,
                                            width: 110,
                                            sortable: false,
                                            dataIndex: 'TreasureAcctNo',
                                            hideable: false,
                                            text: 'राजस्व खाता नं',
                                            editor: {
                                                xtype: 'combobox',
                                                itemId: 'ddlEst_Ret_Treasure_Acct_No',
                                                width: 110,
                                                hideEmptyLabel: false,
                                                labelWidth: 5,
                                                emptyText: '---छान्नुहोस्.---',
                                                displayField: 'AccountCode',
                                                forceSelection: true,
                                                store: 'RevenueAccountStore',
                                                typeAhead: true,
                                                valueField: 'AccountCode'
                                            }
                                        },
                                        {
                                            xtype: 'gridcolumn',
                                            draggable: false,
                                            maxHeight: 150,
                                            width: 110,
                                            sortable: false,
                                            dataIndex: 'PaymentMode',
                                            hideable: false,
                                            text: 'भुक्तानीको किसिम',
                                            editor: {
                                                xtype: 'combobox',
                                                itemId: 'ddlEst_Ret_Payment_mode',
                                                width: 110,
                                                emptyText: '---छान्नुहोस्.---',
                                                displayField: 'EstPaymentModeName',
                                                forceSelection: true,
                                                queryMode: 'local',
                                                store: 'EstPaymentMode',
                                                typeAhead: true,
                                                valueField: 'EstPaymentModeID'
                                            }
                                        },
                                        {
                                            xtype: 'gridcolumn',
                                            draggable: false,
                                            width: 120,
                                            sortable: false,
                                            dataIndex: 'VoucherNo',
                                            hideable: false,
                                            text: 'भौचर / रसिद नं .',
                                            editor: {
                                                xtype: 'textfield',
                                                itemId: 'txtEst_Ret_Voucher_No',
                                                width: 120
                                            }
                                        },
                                        {
                                            xtype: 'gridcolumn',
                                            draggable: false,
                                            width: 300,
                                            sortable: false,
                                            dataIndex: 'BankBr',
                                            hideable: false,
                                            text: 'बैंकको नाम',
                                            editor: {
                                                xtype: 'combobox',
                                                itemId: 'ddlEst_Ret_Bank_Code',
                                                width: 300,
                                                emptyText: '---छान्नुहोस्.---',
                                                displayField: 'BankName',
                                                forceSelection: true,
                                                queryMode: 'local',
                                                store: 'OfficeBankInfo',
                                                typeAhead: true,
                                                valueField: 'BankBr'
                                            }
                                        },
                                        {
                                            xtype: 'gridcolumn',
                                            draggable: false,
                                            width: 100,
                                            sortable: false,
                                            dataIndex: 'PaymentDate',
                                            hideable: false,
                                            text: 'दाखीला मिति',
                                            editor: {
                                                xtype: 'textfield',
                                                itemId: 'txtEst_Ret_Entered_Date',
                                                width: 100,
                                                maskRe: /[0-9.]/,
                                                listeners: {
                                                    blur: {
                                                        fn: me.onTxtEst_Ret_Entered_DateBlur,
                                                        scope: me
                                                    }
                                                }
                                            }
                                        },
                                        {
                                            xtype: 'gridcolumn',
                                            draggable: false,
                                            width: 100,
                                            sortable: false,
                                            dataIndex: 'Amount',
                                            hideable: false,
                                            text: 'दाखीला रकम',
                                            editor: {
                                                xtype: 'textfield',
                                                validator: function(value) {
                                                    return /^[0-9]{0,254}\.{0,1}[0-9]{0,2}$/.test(value)? true : 'कृपया दुईदशमलव विन्दु सम्म भर्नुहोस्!!!';
                                                },
                                                itemId: 'txtEst_Ret_Amount',
                                                width: 100,
                                                enforceMaxLength: true,
                                                maskRe: /[0-9.]/,
                                                maxLength: 18
                                            }
                                        },
                                        {
                                            xtype: 'gridcolumn',
                                            hidden: true,
                                            dataIndex: 'Action',
                                            text: 'Action'
                                        },
                                        {
                                            xtype: 'actioncolumn',
                                            align: 'center',
                                            items: [
                                                {
                                                    handler: function(view, rowIndex, colIndex, item, e) {
                                                        var store = Ext.getStore('Est_Ret_VoucherList');
                                                        var grd = Ext.ComponentQuery.query('#Est_Ret_VoucherList')[0];
                                                        var row = store.getAt(rowIndex).data;

                                                        Ext.Msg.confirm('Confirm Action', 'Do you want to Remove ?', function(btn) {
                                                            if(btn == 'yes'){
                                                                if(row.Action === "E")
                                                                {    
                                                                    row.Action = "D";
                                                                    grd.bindStore(store);         
                                                                    store.filter(function(item){
                                                                        return item.get("Action")!= 'D';
                                                                    });
                                                                }
                                                                else
                                                                {

                                                                    store.removeAt(rowIndex);
                                                                }


                                                                return true;
                                                            }
                                                        }, this);  


                                                    },
                                                    icon: '../ITS/resources/images/icons/cancel.png'
                                                }
                                            ]
                                        }
                                    ],
                                    viewConfig: {

                                    },
                                    plugins: [
                                        Ext.create('Ext.grid.plugin.RowEditing', {
                                            ptype: 'rowediting',
                                            pluginId: 'Est_Ret_RowEdtPlgn',
                                            listeners: {
                                                validateedit: {
                                                    fn: me.onGridroweditingpluginValidateedit,
                                                    scope: me
                                                },
                                                canceledit: {
                                                    fn: me.onGridroweditingpluginCanceledit,
                                                    scope: me
                                                }
                                            }
                                        })
                                    ],
                                    dockedItems: [
                                        {
                                            xtype: 'toolbar',
                                            dock: 'top',
                                            items: [
                                                {
                                                    xtype: 'button',
                                                    itemId: 'Est_Ret_AddVoucher',
                                                    iconCls: 'icon-add',
                                                    text: 'Add'
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'container',
                            frame: true,
                            itemId: 'cntEst_Ret_button',
                            style: 'text-align:right;',
                            items: [
                                {
                                    xtype: 'button',
                                    itemId: 'Est_Ret_Save',
                                    margin: '10 5',
                                    iconCls: 'icon-save',
                                    text: 'Save'
                                },
                                {
                                    xtype: 'button',
                                    itemId: 'Est_Ret_Edit',
                                    margin: '10 5',
                                    iconCls: 'icon-edit',
                                    text: 'Edit'
                                },
                                {
                                    xtype: 'button',
                                    itemId: 'Est_Ret_Delete',
                                    margin: '10 5',
                                    iconCls: 'icon-delete',
                                    text: 'Delete'
                                },
                                {
                                    xtype: 'button',
                                    itemId: 'Est_Ret_submit',
                                    margin: '10 5',
                                    iconCls: 'icon-ok',
                                    text: 'Submit'
                                },
                                {
                                    xtype: 'button',
                                    itemId: 'Est_Ret_Cancel',
                                    margin: '10 5',
                                    iconCls: 'icon-cancel',
                                    text: 'Cancel'
                                }
                            ]
                        },
                        {
                            xtype: 'hiddenfield',
                            itemId: 'hdnEst_Ret_Office_Code',
                            fieldLabel: ''
                        },
                        {
                            xtype: 'hiddenfield',
                            itemId: 'hdnEst_Ret_Action',
                            fieldLabel: 'Label'
                        },
                        {
                            xtype: 'hiddenfield',
                            anchor: '100%',
                            itemId: 'hdnEstimateReturnTranNo',
                            fieldLabel: 'Label'
                        },
                        {
                            xtype: 'hiddenfield',
                            anchor: '100%',
                            itemId: 'hdnEstFilingDate',
                            fieldLabel: 'Label'
                        },
                        {
                            xtype: 'hiddenfield',
                            anchor: '100%',
                            itemId: 'EstLoginOffcode',
                            fieldLabel: 'Label'
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    },

    onTxtEst_Ret_Entered_DateBlur: function(field, options) {
        //return validateFutureDate(field.getValue(),"Y");
        return validateFutureDate(field.getValue(),"Y",function(){field.focus();});
    },

    onGridroweditingpluginValidateedit: function(editor, e, options) {
        var count=0;
        var message="";
        var valid=true;
        var me = this;
        var errorMsg = "";

        var Est_Ret_AddVoucher = Ext.ComponentQuery.query('#Est_Ret_AddVoucher')[0];
        var ddlEst_Ret_Treasure_Acct_No   = Ext.ComponentQuery.query('#ddlEst_Ret_Treasure_Acct_No')[0].getValue();
        var ddlEst_Ret_Payment_mode = Ext.ComponentQuery.query('#ddlEst_Ret_Payment_mode')[0].getValue();
        var txtEst_Ret_Voucher_No = Ext.ComponentQuery.query('#txtEst_Ret_Voucher_No')[0].getValue();
        var ddlEst_Ret_Bank_Code = Ext.ComponentQuery.query('#ddlEst_Ret_Bank_Code')[0].getValue();
        var txtEst_Ret_Amount = Ext.ComponentQuery.query('#txtEst_Ret_Amount')[0].getValue();


        if(ddlEst_Ret_Treasure_Acct_No ==="")
        {

            count++;
            errorMsg = errorMsg +'<br/>'+ count + ") कृपया राजस्व खाता नं छान्नुहोस् !!! ";
            Est_Ret_AddVoucher.disable(true);

        }

        if(ddlEst_Ret_Payment_mode === "")
        {

            count++;
            errorMsg = errorMsg +'<br/>'+ count + ") कृपया भुक्तानीको किसिम  छान्नुहोस् !!!";
            Est_Ret_AddVoucher.disable(true);

        }
        /*

        if(txtEst_Ret_Voucher_No === "")
        {

        count++;
        errorMsg = errorMsg +'<br/>'+ count + ")  कृपया भौचर / रसिद नं .भर्नुहोस्!!!";
        Est_Ret_AddVoucher.disable(true);

        }
        */
        if(ddlEst_Ret_Bank_Code === "")
        {

            count++;
            errorMsg = errorMsg +'<br/>'+ count + ")  कृपया बैंकको नाम  छान्नुहोस् !!!";
            Est_Ret_AddVoucher.disable(true);

        }


        if(txtEst_Ret_Amount === "")
        {

            count++;
            errorMsg = errorMsg +'<br/>'+ count + ")कृपया दाखीला रकम भर्नुहोस् !!! ";
            Est_Ret_AddVoucher.disable(true);

        }
        else
        {
            Est_Ret_AddVoucher.enable(true);
        }


        if(count >0)
        {
            msg("WARNING",errorMsg);
            return false;
        }

    },

    onGridroweditingpluginCanceledit: function(editor, e, options) {
        //grid.store.removeAt(grid.rowIdx);

        var btnAddAddVoucher= Ext.ComponentQuery.query('#Est_Ret_AddVoucher')[0];
        btnAddAddVoucher.enable(true);


    }

});