{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "VerificationByKey"
    },
    "configAlternates": {
        "designer|userClassName": "string"
    },
    "designerId": "008c6288-a239-4fd8-8e99-fd02dacc2521",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnSubmit",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtnSubmitClick",
                "implHandler": [
                    "var pan=Ext.ComponentQuery.query('#lblPan')[0].getValue();\r",
                    "var submissionNo=Ext.ComponentQuery.query('#lblSubmissionNo')[0].getValue();\r",
                    "var key=Ext.ComponentQuery.query('#txtKey')[0].getValue();\r",
                    "var prevVatDue=Ext.ComponentQuery.query('#txtPreviousVatDue')[0].getValue();\r",
                    "var applId=Ext.ComponentQuery.query('#hfApplication')[0].getValue();\r",
                    "var moduleId=Ext.ComponentQuery.query('#hfModule')[0].getValue();\r",
                    "\r",
                    "var acctType=Ext.ComponentQuery.query('#hfAccountType')[0].getValue();\r",
                    "var taxyear=Ext.ComponentQuery.query('#hfTaxyear')[0].getValue();\r",
                    "var filePer=Ext.ComponentQuery.query('#hfFilePer')[0].getValue();\r",
                    "var period=Ext.ComponentQuery.query('#hfPeriod')[0].getValue();\r",
                    "\r",
                    "var message='';\r",
                    "if(key===''||key===null)\r",
                    "{\r",
                    "    message+='Key Cannot Be Left Blank.<BR>';\r",
                    "}\r",
                    "if(prevVatDue===''||prevVatDue===null)\r",
                    "{\r",
                    "    message+='Previous Vat Due Cannot Be left Blank.';\r",
                    "}\r",
                    "if(message!=='')\r",
                    "{\r",
                    "    msg('INFO',message);\r",
                    "    return;\r",
                    "}\r",
                    "\r",
                    "\r",
                    "var frm=Ext.getCmp('frmVerificationByKey');\r",
                    "\r",
                    "var form = button.up('form').getForm();\r",
                    "if(form)\r",
                    "{\r",
                    "    console.log(form);\r",
                    "}\r",
                    "\r",
                    "\r",
                    "var arr=[];\r",
                    "\r",
                    "if(form.isValid()){\r",
                    "    \r",
                    "     var userSelfVerByKey={\r",
                    "        PAN:pan,\r",
                    "        Key:key,\r",
                    "        submissionNo:submissionNo,\r",
                    "        PrevVatDue:prevVatDue,\r",
                    "        ApplId:applId,\r",
                    "        ModuleId:moduleId,\r",
                    "        AcctType:acctType,\r",
                    "        Taxyear:taxyear,\r",
                    "        FilePer:filePer,\r",
                    "        Period:period\r",
                    "\r",
                    "    };\r",
                    "\r",
                    "    Ext.Msg.show({\r",
                    "        title:'INFO',\r",
                    "        msg: 'You are going to verify Returns yourself.<BR> Do you want to Continue??',\r",
                    "        buttons: Ext.Msg.YESNO,\r",
                    "        fn: function (btn){\r",
                    "            if(btn=='yes'){ \r",
                    "                form.submit({\r",
                    "                    url: '../Handlers/Verification/UserSelfVerificationByKeyHandler.ashx',\r",
                    "                    waitMsg: 'Verifying Vat Returns...',\r",
                    "                    params:{method:'VerifyByKey',\r",
                    "                            userSelfVerByKey:JSON.stringify(userSelfVerByKey)},\r",
                    "                    success: function(p1, o) {\r",
                    "\r",
                    "                        var JSONResponse=Ext.decode(o.response.responseText);\r",
                    "                        console.log(JSONResponse);\r",
                    "                        if(JSONResponse.success=='true')\r",
                    "                        {  \r",
                    "            \r",
                    "                            msg('INFO',JSONResponse.message+'.<BR>Please Note Your Submission No.<BR><BR>Your Submission No is: <B STYLE=\"COLOR:RED\">'+submissionNo+'<\\B>');\r",
                    "            \r",
                    "                        }\r",
                    "                        else\r",
                    "                        {\r",
                    "                            msg('INFO','Failed Verifying Vat Returns');\r",
                    "                        }\r",
                    "                    },\r",
                    "                    failure:function(fp, o) {\r",
                    "                        msg('INFO','Failed Verifying Vat Returns');\r",
                    "                    }\r",
                    "                });\r",
                    "            }\r",
                    "        }\r",
                    "    });\r",
                    "\r",
                    "}\r",
                    "\r",
                    "\r",
                    "\r",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "configAlternates": {
                "designer|controlQuery": "string",
                "designer|targetType": "view",
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onBtnSubmitClick",
            "designerId": "bf72f6d5-fb18-4809-9296-36c0fa83d632"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnBack",
                "designer|targetType": "Ext.button.Button",
                "fn": "onBtnBackClick",
                "implHandler": [
                    "var submissionNo=Ext.ComponentQuery.query('#lblSubmissionNo')[0].getValue();\r",
                    "var pan=Ext.ComponentQuery.query('#lblPan')[0].getValue();\r",
                    "var application= Ext.ComponentQuery.query('#hfApplication')[0].getValue();\r",
                    "var module=Ext.ComponentQuery.query('#hfModule')[0].getValue();\r",
                    "\r",
                    "var acctType=Ext.ComponentQuery.query('#hfAccountType')[0].getValue();\r",
                    "var taxyear=Ext.ComponentQuery.query('#hfTaxyear')[0].getValue();\r",
                    "var filePer=Ext.ComponentQuery.query('#hfFilePer')[0].getValue();\r",
                    "var period=Ext.ComponentQuery.query('#hfPeriod')[0].getValue();\r",
                    "\r",
                    "\r",
                    "var uiConfig = {menuLink:'EVatReturnsVerification',\r",
                    "    pageTitle:'E-Returns Verification With Username and Password'\r",
                    "};\r",
                    "\r",
                    "\r",
                    "DynamicUI(uiConfig,function(){\r",
                    "    Ext.ComponentQuery.query('#hfApplication')[0].setValue(application);\r",
                    "    Ext.ComponentQuery.query('#hfModule')[0].setValue(module);\r",
                    "\r",
                    "    Ext.ComponentQuery.query('#lblSubmissionNo')[0].setValue(submissionNo);\r",
                    "    Ext.ComponentQuery.query('#lblPan')[0].setValue(pan);\r",
                    "\r",
                    "    Ext.ComponentQuery.query('#hfAccountType')[0].setValue(acctType);\r",
                    "    Ext.ComponentQuery.query('#hfTaxyear')[0].setValue(taxyear);\r",
                    "    Ext.ComponentQuery.query('#hfFilePer')[0].setValue(filePer);\r",
                    "    Ext.ComponentQuery.query('#hfPeriod')[0].setValue(period);\r",
                    "\r",
                    "});\r",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "configAlternates": {
                "designer|controlQuery": "string",
                "designer|targetType": "view",
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onBtnBackClick",
            "designerId": "016a31c1-f38a-4700-8521-f834841f6d75"
        }
    ]
}