/*
 * File: app/view/VatReport.js
 *
 * This file was generated by Sencha Architect version 2.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.VatReport', {
    extend: 'Ext.panel.Panel',

    height: 481,
    id: 'VatReport',
    itemId: 'VatReport',
    width: 945,
    title: 'Vat Report',

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'form',
                    frame: true,
                    height: 450,
                    id: 'frmVatReport',
                    itemId: 'frmVatReport',
                    width: 1089,
                    layout: {
                        align: 'stretch',
                        type: 'vbox'
                    },
                    bodyPadding: 10,
                    items: [
                        {
                            xtype: 'container',
                            flex: 1,
                            maxHeight: 350,
                            layout: {
                                align: 'stretch',
                                type: 'hbox'
                            },
                            items: [
                                {
                                    xtype: 'container',
                                    flex: 1,
                                    height: 285,
                                    itemId: 'MainContainer',
                                    maxWidth: 400,
                                    minWidth: 400,
                                    items: [
                                        {
                                            xtype: 'combobox',
                                            itemId: 'cmb_VatOfficeName',
                                            style: 'font-size:10px;',
                                            width: 350,
                                            fieldLabel: 'Office Name',
                                            labelWidth: 150,
                                            allowBlank: false,
                                            emptyText: '--Select--',
                                            displayField: 'OfficeNameNepali',
                                            forceSelection: true,
                                            queryMode: 'local',
                                            store: 'OfficeWithChildStore',
                                            valueField: 'OfficeNameNepali',
                                            listeners: {
                                                select: {
                                                    fn: me.onCmb_VatOfficeNameSelect,
                                                    scope: me
                                                }
                                            }
                                        },
                                        {
                                            xtype: 'textfield',
                                            itemId: 'txt_VatDate',
                                            width: 350,
                                            fieldLabel: 'Date',
                                            labelWidth: 150,
                                            emptyText: 'YYYY.MM.DD',
                                            maskRe: /[0-9.]/,
                                            maxLength: 10,
                                            minLength: 10
                                        },
                                        {
                                            xtype: 'textfield',
                                            itemId: 'txt_VatYear',
                                            width: 350,
                                            fieldLabel: 'Year',
                                            labelWidth: 150,
                                            emptyText: 'YYYY',
                                            maskRe: /[0-9]/,
                                            maxLength: 4,
                                            minLength: 4
                                        },
                                        {
                                            xtype: 'combobox',
                                            itemId: 'cmb_VatMonth',
                                            margin: '10 0 0 0',
                                            width: 350,
                                            fieldLabel: 'Month',
                                            labelWidth: 150,
                                            emptyText: '--Select--',
                                            displayField: 'monthName',
                                            forceSelection: true,
                                            queryMode: 'local',
                                            store: 'NepaliMonthStore',
                                            valueField: 'monthID'
                                        },
                                        {
                                            xtype: 'combobox',
                                            itemId: 'cbo_vatFigure',
                                            margin: '10 0 0 0',
                                            width: 350,
                                            fieldLabel: 'Amount in figure',
                                            labelWidth: 150,
                                            emptyText: '--Select--',
                                            displayField: 'amountFigure',
                                            forceSelection: true,
                                            queryMode: 'local',
                                            store: 'VatAmountFigure',
                                            valueField: 'amountFigure'
                                        },
                                        {
                                            xtype: 'combobox',
                                            itemId: 'cbo_vatSkipAmount',
                                            margin: '10 0 0 0',
                                            width: 350,
                                            fieldLabel: 'Skip amount below',
                                            labelWidth: 150,
                                            emptyText: '--Select--',
                                            displayField: 'amountFigure',
                                            forceSelection: true,
                                            queryMode: 'local',
                                            store: 'VatAmountFigure',
                                            valueField: 'amountFigure'
                                        },
                                        {
                                            xtype: 'checkboxfield',
                                            itemId: 'chkbox_VatSaveReport',
                                            margin: '10 0 0 0',
                                            width: 200,
                                            fieldLabel: 'Save Report',
                                            labelWidth: 150
                                        },
                                        {
                                            xtype: 'checkboxfield',
                                            itemId: 'chkbox_VatInterestPenalty',
                                            margin: '10 0 0 0',
                                            width: 350,
                                            fieldLabel: 'Do you want to calculate interest & additional penalty',
                                            labelWidth: 300
                                        },
                                        {
                                            xtype: 'container',
                                            height: 30,
                                            itemId: 'ActionContainer',
                                            margin: '10 0 0 0',
                                            layout: {
                                                align: 'stretch',
                                                type: 'hbox'
                                            },
                                            items: [
                                                {
                                                    xtype: 'button',
                                                    itemId: 'btn_VatGenerateReport',
                                                    maxHeight: 25,
                                                    width: 100,
                                                    text: 'Generate Report'
                                                },
                                                {
                                                    xtype: 'button',
                                                    itemId: 'btn_VatCancel',
                                                    margin: '0 0 0 20',
                                                    maxHeight: 25,
                                                    width: 100,
                                                    text: 'Cancel'
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'container',
                                    flex: 1,
                                    maxHeight: 300,
                                    width: 402,
                                    items: [
                                        {
                                            xtype: 'fieldset',
                                            height: 300,
                                            itemId: 'fieldSet_CheckVatReport',
                                            width: 527,
                                            title: 'Check Vat Report',
                                            items: [
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'cbo_VatReportDateStat',
                                                    margin: '20 0 0 0',
                                                    width: 320,
                                                    fieldLabel: 'Report from Saved Report',
                                                    labelWidth: 150,
                                                    emptyText: '--Select--',
                                                    displayField: 'conctSaveReport',
                                                    forceSelection: true,
                                                    queryMode: 'local',
                                                    store: 'VatSavedReportStore',
                                                    valueField: 'rid',
                                                    listeners: {
                                                        select: {
                                                            fn: me.onCbo_VatReportDateStatSelect,
                                                            scope: me
                                                        }
                                                    }
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'cbo_VatReportDateRev',
                                                    margin: '20 0 0 0',
                                                    width: 320,
                                                    fieldLabel: 'Report from Saved Report',
                                                    labelWidth: 150,
                                                    emptyText: '--Select--',
                                                    displayField: 'year',
                                                    forceSelection: true,
                                                    queryMode: 'local',
                                                    store: 'VatSavedReportStore',
                                                    valueField: 'rid',
                                                    listeners: {
                                                        select: {
                                                            fn: me.onCbo_VatReportDateRevSelect,
                                                            scope: me
                                                        }
                                                    }
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'cbo_VatReportDateOut',
                                                    margin: '20 0 0 0',
                                                    width: 320,
                                                    fieldLabel: 'Report from Saved Report',
                                                    labelWidth: 150,
                                                    emptyText: '--Select--',
                                                    displayField: 'Date',
                                                    forceSelection: true,
                                                    queryMode: 'local',
                                                    store: 'VatSavedReportStore',
                                                    valueField: 'rid',
                                                    listeners: {
                                                        select: {
                                                            fn: me.onCbo_VatReportDateOutSelect,
                                                            scope: me
                                                        }
                                                    }
                                                },
                                                {
                                                    xtype: 'container',
                                                    layout: {
                                                        columns: 2,
                                                        type: 'table'
                                                    },
                                                    items: [
                                                        {
                                                            xtype: 'textfield',
                                                            itemId: 'txt_VatReportID',
                                                            margin: '10 0 10 0',
                                                            maxHeight: 25,
                                                            width: 320,
                                                            fieldLabel: 'Report ID',
                                                            labelWidth: 150,
                                                            maskRe: /[0-9]/
                                                        },
                                                        {
                                                            xtype: 'label',
                                                            itemId: 'lbl_ReportIDMsg',
                                                            margin: '58 0 0 5',
                                                            maxHeight: 30,
                                                            style: 'color:red;',
                                                            width: 400,
                                                            text: 'Remember your report id for viewing report later.'
                                                        }
                                                    ]
                                                },
                                                {
                                                    xtype: 'label',
                                                    itemId: 'lbl_WaitingMsg',
                                                    margin: '20 0 0 155',
                                                    style: 'color:red;',
                                                    text: 'This is going to take a few minutes to complete your job.'
                                                },
                                                {
                                                    xtype: 'button',
                                                    itemId: 'btn_VatViewReport',
                                                    margin: '40 0 0 155',
                                                    maxHeight: 25,
                                                    width: 100,
                                                    text: 'View Report'
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'container',
                            flex: 1,
                            height: 10,
                            itemId: 'HiddenContainer',
                            maxHeight: 5,
                            items: [
                                {
                                    xtype: 'hiddenfield',
                                    itemId: 'hdn_NF_VSR_VRR',
                                    fieldLabel: 'Label'
                                },
                                {
                                    xtype: 'hiddenfield',
                                    itemId: 'hdn_OfficeAddress',
                                    fieldLabel: 'Label'
                                },
                                {
                                    xtype: 'hiddenfield',
                                    itemId: 'hdnOfficeCode',
                                    fieldLabel: 'Label'
                                },
                                {
                                    xtype: 'hiddenfield',
                                    itemId: 'hdn_ReportID',
                                    fieldLabel: 'Label'
                                }
                            ]
                        }
                    ],
                    listeners: {
                        afterrender: {
                            fn: me.onFrmVatReportAfterRender,
                            scope: me
                        }
                    }
                }
            ]
        });

        me.callParent(arguments);
    },

    onCmb_VatOfficeNameSelect: function(combo, records, eOpts) {
        //var currentAddress=records[0].data.Address;

        //Ext.ComponentQuery.query('#hdn_OfficeAddress')[0].setValue(currentAddress);
    },

    onCbo_VatReportDateStatSelect: function(combo, records, eOpts) {
        console.log(records);

        var currRid=records[0].data.rid;

        Ext.ComponentQuery.query('#txt_VatReportID')[0].setValue(currRid);
    },

    onCbo_VatReportDateRevSelect: function(combo, records, eOpts) {
        console.log(records);

        var currRid=records[0].data.rid;

        Ext.ComponentQuery.query('#txt_VatReportID')[0].setValue(currRid);
    },

    onCbo_VatReportDateOutSelect: function(combo, records, eOpts) {
        console.log(records);

        var currRid=records[0].data.rid;

        Ext.ComponentQuery.query('#txt_VatReportID')[0].setValue(currRid);
    },

    onFrmVatReportAfterRender: function(component, eOpts) {
        var reportID=Ext.ComponentQuery.query('#hdn_ReportID')[0].getValue();

        Ext.ComponentQuery.query('#txt_VatReportID')[0].setValue(reportID);
    }

});