/*
 * File: app/view/VATRegistration.js
 *
 * This file was generated by Sencha Architect version 2.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.VATRegistration', {
    extend: 'Ext.panel.Panel',

    frame: true,
    id: 'VATRegistration',
    itemId: 'VATRegistration',
    autoScroll: true,
    layout: {
        columns: 1,
        type: 'table'
    },
    title: 'VAT Registration',

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'container',
                    margin: '2 10',
                    layout: {
                        columns: 3,
                        type: 'table'
                    },
                    items: [
                        {
                            xtype: 'radiogroup',
                            colspan: 3,
                            itemId: 'VAT_Reg_IsSelfMotivated',
                            margin: '10 0',
                            maxWidth: 360,
                            width: 360,
                            fieldLabel: 'के तपाई स्वइच्छाले दर्ता गर्न चाहनु भएको ?',
                            labelSeparator: ' ',
                            labelWidth: 265,
                            items: [
                                {
                                    xtype: 'radiofield',
                                    itemId: 'VAT_Reg_IsSelfMotivatedY',
                                    name: 'self',
                                    boxLabel: 'हो',
                                    checked: true
                                },
                                {
                                    xtype: 'radiofield',
                                    itemId: 'VAT_Reg_IsSelfMotivatedN',
                                    name: 'self',
                                    boxLabel: 'होइन'
                                }
                            ]
                        },
                        {
                            xtype: 'textfield',
                            colspan: 3,
                            itemId: 'VAT_Reg_RegAppliedDate',
                            maxWidth: 350,
                            fieldLabel: 'दर्ता लागु हुने मिति ',
                            labelWidth: 265,
                            emptyText: 'yyyy.mm.dd',
                            listeners: {
                                blur: {
                                    fn: me.onVAT_Reg_RegAppliedDateBlur,
                                    scope: me
                                }
                            }
                        },
                        {
                            xtype: 'textfield',
                            itemId: 'VAT_Reg_ITRegNo',
                            margin: '0 10 0 0',
                            maxWidth: 250,
                            width: 250,
                            fieldLabel: 'आयकर दर्ता नं.',
                            labelAlign: 'top',
                            labelSeparator: ' ',
                            labelStyle: 'text-align:center',
                            enforceMaxLength: true,
                            maxLength: 20
                        },
                        {
                            xtype: 'textfield',
                            itemId: 'VAT_Reg_MuAaKaTaxPayerRegNo',
                            margin: '0 10',
                            maxWidth: 250,
                            width: 250,
                            fieldLabel: 'मु.अ.क. करदाता दर्ता नं.',
                            labelAlign: 'top',
                            labelSeparator: ' ',
                            labelStyle: 'text-align:center',
                            enforceMaxLength: true,
                            maxLength: 9
                        },
                        {
                            xtype: 'textfield',
                            itemId: 'VAT_Reg_ApplicationDate',
                            margin: '0 10',
                            maxWidth: 250,
                            width: 250,
                            fieldLabel: 'निवेदन मिति',
                            labelAlign: 'top',
                            labelSeparator: ' ',
                            labelStyle: 'text-align:center',
                            emptyText: 'yyyy.mm.dd',
                            listeners: {
                                blur: {
                                    fn: me.onVAT_Reg_ApplicationDateBlur,
                                    scope: me
                                }
                            }
                        },
                        {
                            xtype: 'gridpanel',
                            colspan: 3,
                            height: 200,
                            itemId: 'Bus_Reg_T3BusEstimatedDetails',
                            margin: '5 0',
                            width: 602,
                            title: 'ब्यबसायिक बिबरण (उपयुक्त अनुमान दिनुहोस्)',
                            store: 'BusReg_ApproxBusDetStore',
                            columns: [
                                {
                                    xtype: 'gridcolumn',
                                    width: 300,
                                    dataIndex: 'Type',
                                    text: 'Type'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    width: 150,
                                    dataIndex: 'YearlyBusiness',
                                    text: 'YearlyBusiness',
                                    editor: {
                                        xtype: 'numberfield',
                                        maxLength: 15,
                                        hideTrigger: true
                                    }
                                },
                                {
                                    xtype: 'gridcolumn',
                                    width: 150,
                                    dataIndex: 'UpComingQuarterlyBusiness',
                                    text: 'UpComingQuarterlyBusiness',
                                    editor: {
                                        xtype: 'numberfield',
                                        maxLength: 15,
                                        hideTrigger: true
                                    }
                                }
                            ],
                            plugins: [
                                Ext.create('Ext.grid.plugin.CellEditing', {

                                })
                            ]
                        },
                        {
                            xtype: 'label',
                            colspan: 3,
                            style: 'color:red;',
                            text: '* तपाईले आफ्नो डाटा भर्न सकेपछि तल राखीएको \'Check Filing Period\' Button थिची कर अवधिको वारेमा जानकारी प्राप्त गर्नुहोला ।'
                        },
                        {
                            xtype: 'container',
                            colspan: 3,
                            height: 40,
                            maxHeight: 40,
                            minHeight: 40,
                            padding: '5 0 10 0',
                            layout: {
                                type: 'column'
                            },
                            items: [
                                {
                                    xtype: 'button',
                                    itemId: 'VAT_Reg_btnCheckFilingPeriod',
                                    text: 'Check Filing Period',
                                    listeners: {
                                        click: {
                                            fn: me.onVAT_Reg_btnCheckFilingPeriodClick,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'VAT_Reg_FilingPeriod',
                                    margin: '0 0 0 10',
                                    fieldLabel: '',
                                    readOnly: true
                                }
                            ]
                        },
                        {
                            xtype: 'fieldset',
                            colspan: 3,
                            height: 430,
                            minHeight: 500,
                            padding: '5 20',
                            layout: {
                                columns: 4,
                                type: 'table'
                            },
                            title: 'मु.अ.क. सम्पर्क व्यक्ति ( यदि आयकरमा उल्लेख गरिएको व्यक्ति बाहेक भए मात्र उल्लेख गर्नुहोस् ।)',
                            items: [
                                {
                                    xtype: 'label',
                                    text: 'नाम'
                                },
                                {
                                    xtype: 'label',
                                    text: 'पहिलो'
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 0 0 65',
                                    text: '	 दोस्रो'
                                },
                                {
                                    xtype: 'label',
                                    margin: '0 0 0 65',
                                    text: 'थर'
                                },
                                {
                                    xtype: 'textfield',
                                    colspan: 2,
                                    cls: 'unicode',
                                    itemId: 'VAT_Reg_T52FirstNameNepali',
                                    fieldLabel: 'नेपालीमा',
                                    labelWidth: 180,
                                    enableKeyEvents: true,
                                    enforceMaxLength: true,
                                    maxLength: 100,
                                    listeners: {
                                        keypress: {
                                            fn: me.onVAT_Reg_T52FirstNameNepaliKeypress,
                                            scope: me
                                        },
                                        keyup: {
                                            fn: me.onVAT_Reg_T52FirstNameNepaliKeyup,
                                            scope: me
                                        },
                                        change: {
                                            fn: me.onVAT_Reg_T52FirstNameNepaliChange,
                                            scope: me
                                        },
                                        focus: {
                                            fn: me.onVAT_Reg_T52FirstNameNepaliFocus,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'textfield',
                                    cls: 'unicode',
                                    itemId: 'VAT_Reg_T52MiddleNameNepali',
                                    margin: '0 0 0 5',
                                    enableKeyEvents: true,
                                    enforceMaxLength: true,
                                    maxLength: 100,
                                    listeners: {
                                        keypress: {
                                            fn: me.onVAT_Reg_T52MiddleNameNepaliKeypress,
                                            scope: me
                                        },
                                        keyup: {
                                            fn: me.onVAT_Reg_T52MiddleNameNepaliKeyup,
                                            scope: me
                                        },
                                        change: {
                                            fn: me.onVAT_Reg_T52MiddleNameNepaliChange,
                                            scope: me
                                        },
                                        focus: {
                                            fn: me.onVAT_Reg_T52MiddleNameNepaliFocus,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'textfield',
                                    cls: 'unicode',
                                    itemId: 'VAT_Reg_T52LastNameNepali',
                                    margin: '0 0 0 5',
                                    enableKeyEvents: true,
                                    enforceMaxLength: true,
                                    maxLength: 100,
                                    listeners: {
                                        keypress: {
                                            fn: me.onVAT_Reg_T52LastNameNepaliKeypress,
                                            scope: me
                                        },
                                        keyup: {
                                            fn: me.onVAT_Reg_T52LastNameNepaliKeyup,
                                            scope: me
                                        },
                                        change: {
                                            fn: me.onVAT_Reg_T52LastNameNepaliChange,
                                            scope: me
                                        },
                                        focus: {
                                            fn: me.onVAT_Reg_T52LastNameNepaliFocus,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'textfield',
                                    colspan: 2,
                                    itemId: 'VAT_Reg_T52FirstNameEnglish',
                                    fieldLabel: 'अंग्रेजीमा',
                                    labelWidth: 180,
                                    enforceMaxLength: true,
                                    maxLength: 100
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'VAT_Reg_T52MiddleNameEnglish',
                                    margin: '0 0 0 5',
                                    enforceMaxLength: true,
                                    maxLength: 100
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'VAT_Reg_T52LastNameEnglish',
                                    margin: '0 0 0 5',
                                    enforceMaxLength: true,
                                    maxLength: 100
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'VAT_Reg_T52AppointedDate',
                                    fieldLabel: 'नियुक्ति मिति',
                                    labelAlign: 'top',
                                    labelWidth: 180,
                                    emptyText: 'yyyy.mm.dd',
                                    listeners: {
                                        blur: {
                                            fn: me.onVAT_Reg_T52AppointedDateBlur,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'combobox',
                                    autoRender: false,
                                    itemId: 'VAT_Reg_T52PaperType',
                                    margin: '0 5 0 0',
                                    fieldLabel: 'कागजको प्रकार',
                                    labelAlign: 'top',
                                    labelSeparator: ' ',
                                    emptyText: '--- Choose ---',
                                    displayField: 'DocTypeDescEn',
                                    store: 'VATReg_DocumentTypeStore',
                                    valueField: 'DocTypeID'
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'VAT_Reg_T52IdentityNo',
                                    margin: '0 5',
                                    fieldLabel: '	 परिचय पत्र नं',
                                    labelAlign: 'top',
                                    labelSeparator: ' ',
                                    enforceMaxLength: true,
                                    maxLength: 20
                                },
                                {
                                    xtype: 'textfield',
                                    cls: 'unicode',
                                    itemId: 'VAT_Reg_T52IssuedByOrg',
                                    margin: '0 5',
                                    fieldLabel: 'जारि गर्ने कार्यालय',
                                    labelAlign: 'top',
                                    labelSeparator: ' ',
                                    enableKeyEvents: true,
                                    enforceMaxLength: true,
                                    maxLength: 120,
                                    listeners: {
                                        keypress: {
                                            fn: me.onVAT_Reg_T52IssuedByOrgKeypress,
                                            scope: me
                                        },
                                        keyup: {
                                            fn: me.onVAT_Reg_T52IssuedByOrgKeyup,
                                            scope: me
                                        },
                                        change: {
                                            fn: me.onVAT_Reg_T52IssuedByOrgChange,
                                            scope: me
                                        },
                                        focus: {
                                            fn: me.onVAT_Reg_T52IssuedByOrgFocus,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'textfield',
                                    cls: 'unicode',
                                    itemId: 'VAT_Reg_T52IssuedByOrgPlace',
                                    fieldLabel: 'जरिगारने कार्यालयको स्थान',
                                    labelAlign: 'top',
                                    labelSeparator: ' ',
                                    enableKeyEvents: true,
                                    enforceMaxLength: true,
                                    maxLength: 120,
                                    listeners: {
                                        keypress: {
                                            fn: me.onVAT_Reg_T52IssuedByOrgPlaceKeypress,
                                            scope: me
                                        },
                                        keyup: {
                                            fn: me.onVAT_Reg_T52IssuedByOrgPlaceKeyup,
                                            scope: me
                                        },
                                        change: {
                                            fn: me.onVAT_Reg_T52IssuedByOrgPlaceChange,
                                            scope: me
                                        },
                                        focus: {
                                            fn: me.onVAT_Reg_T52IssuedByOrgPlaceFocus,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'textfield',
                                    itemId: 'VAT_Reg_T52IssuedDate',
                                    margin: '0 5',
                                    fieldLabel: 'जारीगरेको मिति',
                                    labelAlign: 'top',
                                    labelSeparator: ' ',
                                    emptyText: 'yyyy.mm.dd',
                                    listeners: {
                                        blur: {
                                            fn: me.onVAT_Reg_T52IssuedDateBlur,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'textfield',
                                    colspan: 2,
                                    cls: 'unicode',
                                    itemId: 'VAT_Reg_T52Post',
                                    fieldLabel: 'पद',
                                    labelAlign: 'top',
                                    labelSeparator: ' ',
                                    enableKeyEvents: true,
                                    enforceMaxLength: true,
                                    maxLength: 20,
                                    listeners: {
                                        keypress: {
                                            fn: me.onVAT_Reg_T52PostKeypress,
                                            scope: me
                                        },
                                        keyup: {
                                            fn: me.onVAT_Reg_T52PostKeyup,
                                            scope: me
                                        },
                                        change: {
                                            fn: me.onVAT_Reg_T52PostChange,
                                            scope: me
                                        },
                                        focus: {
                                            fn: me.onVAT_Reg_T52PostFocus,
                                            scope: me
                                        }
                                    }
                                },
                                {
                                    xtype: 'form',
                                    colspan: 5,
                                    id: 'VAT_Reg_T52DocumentForm',
                                    padding: '',
                                    width: 350,
                                    layout: {
                                        type: 'table'
                                    },
                                    bodyPadding: '15 0 ',
                                    bodyStyle: 'background-color:transparent;',
                                    items: [
                                        {
                                            xtype: 'textfield',
                                            itemId: 'VAT_Reg_T52DocumentTxt',
                                            width: 240,
                                            fieldLabel: '',
                                            readOnly: true,
                                            maxLength: 80
                                        },
                                        {
                                            xtype: 'filefield',
                                            id: 'VAT_Reg_T52Document',
                                            itemId: 'VAT_Reg_T52Document',
                                            margin: '0 44',
                                            buttonMargin: 46,
                                            buttonOnly: true,
                                            listeners: {
                                                change: {
                                                    fn: me.onVAT_Reg_T52DocumentChange,
                                                    scope: me
                                                }
                                            }
                                        }
                                    ]
                                },
                                {
                                    xtype: 'fieldset',
                                    colspan: 6,
                                    height: 235,
                                    margin: '20 0',
                                    width: 750,
                                    layout: {
                                        align: 'stretch',
                                        type: 'vbox'
                                    },
                                    title: 'मु.अ.क. सम्पर्क व्यक्तिको ठेगाना',
                                    items: [
                                        {
                                            xtype: 'container',
                                            width: 900,
                                            layout: {
                                                columns: 3,
                                                type: 'table'
                                            },
                                            items: [
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'VAT_Reg_T52_Child_District',
                                                    margin: '3 10',
                                                    fieldLabel: 'जिल्ला',
                                                    emptyText: '--- Choose ---',
                                                    displayField: 'DistrictNameNp',
                                                    queryMode: 'local',
                                                    store: 'VAT_Reg_DistrictStore',
                                                    valueField: 'DistrictCode'
                                                },
                                                {
                                                    xtype: 'radiogroup',
                                                    itemId: 'Bus_Reg_T52LocationType',
                                                    margin: '0 0 0 10px',
                                                    width: 250,
                                                    fieldLabel: '',
                                                    items: [
                                                        {
                                                            xtype: 'radiofield',
                                                            itemId: 'VAT_Reg_T52LocationType1',
                                                            name: 'T52LocationType',
                                                            boxLabel: 'म.न.पा.',
                                                            checked: true
                                                        },
                                                        {
                                                            xtype: 'radiofield',
                                                            itemId: 'VAT_Reg_T52LocationType2',
                                                            name: 'T52LocationType',
                                                            boxLabel: 'उप-म'
                                                        },
                                                        {
                                                            xtype: 'radiofield',
                                                            itemId: 'VAT_Reg_T52LocationType3',
                                                            name: 'T52LocationType',
                                                            boxLabel: 'न.पा.'
                                                        },
                                                        {
                                                            xtype: 'radiofield',
                                                            itemId: 'VAT_Reg_T52LocationType4',
                                                            name: 'T52LocationType',
                                                            boxLabel: 'गा.वि.स.'
                                                        }
                                                    ]
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    cls: 'unicode',
                                                    itemId: 'VAT_Reg_T52_Child_VDC',
                                                    margin: '0 0 0 10px',
                                                    fieldLabel: '',
                                                    enableKeyEvents: true,
                                                    enforceMaxLength: true,
                                                    maxLength: 60,
                                                    listeners: {
                                                        keypress: {
                                                            fn: me.onVAT_Reg_T52_Child_VDCKeypress,
                                                            scope: me
                                                        },
                                                        keyup: {
                                                            fn: me.onVAT_Reg_T52_Child_VDCKeyup,
                                                            scope: me
                                                        },
                                                        change: {
                                                            fn: me.onVAT_Reg_T52_Child_VDCChange,
                                                            scope: me
                                                        },
                                                        focus: {
                                                            fn: me.onVAT_Reg_T52_Child_VDCFocus,
                                                            scope: me
                                                        }
                                                    }
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    cls: 'unicode',
                                                    itemId: 'VAT_Reg_T52_Child_Tole',
                                                    margin: '2 10',
                                                    fieldLabel: 'टोल',
                                                    enableKeyEvents: true,
                                                    enforceMaxLength: true,
                                                    maxLength: 120,
                                                    listeners: {
                                                        keypress: {
                                                            fn: me.onVAT_Reg_T52_Child_ToleKeypress,
                                                            scope: me
                                                        },
                                                        keyup: {
                                                            fn: me.onVAT_Reg_T52_Child_ToleKeyup,
                                                            scope: me
                                                        },
                                                        change: {
                                                            fn: me.onVAT_Reg_T52_Child_ToleChange,
                                                            scope: me
                                                        },
                                                        focus: {
                                                            fn: me.onVAT_Reg_T52_Child_ToleFocus,
                                                            scope: me
                                                        }
                                                    }
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    colspan: 2,
                                                    cls: 'unicode',
                                                    itemId: 'VAT_Reg_T52_Child_HouseNo',
                                                    margin: '0 0 0 10px',
                                                    fieldLabel: 'घर नम्बर',
                                                    labelWidth: 255,
                                                    enableKeyEvents: true,
                                                    enforceMaxLength: true,
                                                    maxLength: 20,
                                                    listeners: {
                                                        keypress: {
                                                            fn: me.onVAT_Reg_T52_Child_HouseNoKeypress,
                                                            scope: me
                                                        },
                                                        keyup: {
                                                            fn: me.onVAT_Reg_T52_Child_HouseNoKeyup,
                                                            scope: me
                                                        },
                                                        change: {
                                                            fn: me.onVAT_Reg_T52_Child_HouseNoChange,
                                                            scope: me
                                                        },
                                                        focus: {
                                                            fn: me.onVAT_Reg_T52_Child_HouseNoFocus,
                                                            scope: me
                                                        }
                                                    }
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'VAT_Reg_T52_Child_WardNo',
                                                    margin: '2 10',
                                                    fieldLabel: 'वडा नम्बर',
                                                    enforceMaxLength: true,
                                                    maxLength: 2,
                                                    hideTrigger: true
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    colspan: 2,
                                                    hidden: true,
                                                    itemId: 'Bus_Reg_T52_Child_Region',
                                                    margin: '0 0 0 10px',
                                                    fieldLabel: 'क्षेत्र',
                                                    labelWidth: 255
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            flex: 1,
                                            items: [
                                                {
                                                    xtype: 'gridpanel',
                                                    itemId: 'VAT_Reg_T52_Child_ContactList',
                                                    margin: '3 0 0 0',
                                                    width: 402,
                                                    store: 'VAT_Reg_Contact_5',
                                                    columns: [
                                                        {
                                                            xtype: 'gridcolumn',
                                                            width: 150,
                                                            dataIndex: 'Key',
                                                            text: 'सम्पर्क साधन'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            width: 250,
                                                            dataIndex: 'Value',
                                                            text: 'बिबरण',
                                                            editor: {
                                                                xtype: 'textfield'
                                                            }
                                                        }
                                                    ],
                                                    plugins: [
                                                        Ext.create('Ext.grid.plugin.CellEditing', {

                                                        })
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    xtype: 'container',
                    height: 25,
                    margin: '10 0',
                    style: 'text-align:right;',
                    items: [
                        {
                            xtype: 'button',
                            itemId: 'VAT_Reg_btnSave',
                            iconCls: 'icon-save',
                            text: 'Save'
                        },
                        {
                            xtype: 'button',
                            itemId: 'VAT_Reg_btnSubmit',
                            iconCls: 'icon-ok',
                            text: 'Submit'
                        },
                        {
                            xtype: 'button',
                            itemId: 'VAT_Reg_btnCancel',
                            iconCls: 'icon-cancel',
                            text: 'Cancel'
                        },
                        {
                            xtype: 'button',
                            disabled: true,
                            itemId: 'VAT_Reg_Next',
                            text: 'Next'
                        },
                        {
                            xtype: 'hiddenfield',
                            itemId: 'VAT_Reg_RedirectURL',
                            fieldLabel: 'Label'
                        },
                        {
                            xtype: 'hiddenfield',
                            itemId: 'VAT_Reg_PanAction',
                            fieldLabel: 'Label'
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    },

    onVAT_Reg_RegAppliedDateBlur: function(component, e, eOpts) {
        validateFutureDate(component.getValue(),'N',function(){component.focus();});

    },

    onVAT_Reg_ApplicationDateBlur: function(component, e, eOpts) {
        validateFutureDate(component.getValue(),'N',function(){component.focus();});

    },

    onVAT_Reg_btnCheckFilingPeriodClick: function(button, e, eOpts) {
        var txtFilingPeriod = Ext.ComponentQuery.query('#VAT_Reg_FilingPeriod')[0];
        txtFilingPeriod.setValue("");
        var voluntary = Ext.ComponentQuery.query('#VAT_Reg_IsSelfMotivatedY')[0].getValue();
        var threshold=Ext.ComponentQuery.query('#VATRegistration')[0].extraParam.Threshold;

        if(voluntary===false)
        {
            txtFilingPeriod.setValue("Monthly ( मासिक )");
        }
        else
        {    
            var store = Ext.getStore('BusReg_ApproxBusDetStore'); 

            var TaxableTurnover = store.getAt(0).data.YearlyBusiness;
            TaxableTurnover=TaxableTurnover?TaxableTurnover:0;

            var ExpectedTaxableTurnover = store.getAt(0).data.UpComingQuarterlyBusiness;

            if(!ExpectedTaxableTurnover)
            {
                msg('WARNING','Please Provide Expected Taxable Turnover For Calculating Filing Period');
                return;
            }
            else
            {
                ExpectedTaxableTurnover=4*Number(ExpectedTaxableTurnover);
            }
            valToCompare=TaxableTurnover>ExpectedTaxableTurnover?TaxableTurnover:ExpectedTaxableTurnover;
            if(valToCompare>threshold)
            {
                txtFilingPeriod.setValue("Monthly ( मासिक )");
            }
            else
            {
                txtFilingPeriod.setValue("Trimester ( चाैमासिक )");
            }

        }


    },

    onVAT_Reg_T52FirstNameNepaliKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52FirstNameNepaliKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52FirstNameNepaliChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52FirstNameNepaliFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    },

    onVAT_Reg_T52MiddleNameNepaliKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52MiddleNameNepaliKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52MiddleNameNepaliChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52MiddleNameNepaliFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    },

    onVAT_Reg_T52LastNameNepaliKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52LastNameNepaliKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52LastNameNepaliChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52LastNameNepaliFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    },

    onVAT_Reg_T52AppointedDateBlur: function(component, e, eOpts) {
        validateFutureDate(component.getValue(),'N',function(){component.focus();});

    },

    onVAT_Reg_T52IssuedByOrgKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52IssuedByOrgKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52IssuedByOrgChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52IssuedByOrgFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    },

    onVAT_Reg_T52IssuedByOrgPlaceKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52IssuedByOrgPlaceKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52IssuedByOrgPlaceChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52IssuedByOrgPlaceFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    },

    onVAT_Reg_T52IssuedDateBlur: function(component, e, eOpts) {
        validateFutureDate(component.getValue(),'N',function(){component.focus();});

    },

    onVAT_Reg_T52PostKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52PostKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52PostChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52PostFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    },

    onVAT_Reg_T52DocumentChange: function(filefield, value, eOpts) {

        Ext.getCmp('VAT_Reg_T52DocumentForm').getForm().submit({
            url: '../Handlers/Common/DocumentUploadHandler.ashx',
            // params:{submissionNo:objSubmissionNo},
            waitMsg: 'Uploading your document...',
            success: function(form,action) {

                if(action.result.success!=true)
                {
                    msg("FAILURE","Document Upload Failed");
                    return;
                }

                var arr=action.result.msg.split("*");
                Ext.ComponentQuery.query('#VAT_Reg_T52DocumentTxt')[0].fullName=action.result.msg;      
                Ext.ComponentQuery.query('#VAT_Reg_T52DocumentTxt')[0].setValue(arr[1]);

            },
            failure: function(form,action) {

                msg("FAILURE","Document Upload Failed");
            }
        });



    },

    onVAT_Reg_T52_Child_VDCKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52_Child_VDCKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52_Child_VDCChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52_Child_VDCFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    },

    onVAT_Reg_T52_Child_ToleKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52_Child_ToleKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52_Child_ToleChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52_Child_ToleFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    },

    onVAT_Reg_T52_Child_HouseNoKeypress: function(textfield, e, eOpts) {
        return unicodeKeyPress(textfield,e, eOpts);
    },

    onVAT_Reg_T52_Child_HouseNoKeyup: function(textfield, e, eOpts) {
        unicodeKeyUp(textfield,e, eOpts);
    },

    onVAT_Reg_T52_Child_HouseNoChange: function(field, newValue, oldValue, eOpts) {
        unicodeChange(field, newValue, oldValue, eOpts);
    },

    onVAT_Reg_T52_Child_HouseNoFocus: function(component, e, eOpts) {
        unicodeFocus(component, eOpts);
    }

});