{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "MFAdditonalLoanDisbursement",
        "stores": [
            "SearchCenterStore",
            "ContraAccountStore",
            "AdjustToSavingStore",
            "ReferenceShortStore",
            "InstallmentTypeRefShortStore",
            "InterestRateRefShortStore",
            "LoanNoMFStore",
            "SearchMFAddLoanDisburseStore",
            "SearchLoanNoStore"
        ]
    },
    "configAlternates": {
        "designer|userClassName": "string",
        "stores": "typedarray"
    },
    "name": "MyController",
    "designerId": "98023fb2-6be8-41ed-8d66-ff889d76d3f0",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnDisburseLoan",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "MyButton34",
                "fn": "onBtnDisburseLoanClick",
                "implHandler": [
                    "",
                    "var objMFAddLoanDis = {",
                    " LoanNo : Ext.ComponentQuery.query('#ddlLoanNo')[0].getValue(),",
                    " LoanProduct_Code :Ext.ComponentQuery.query('#txtLoanHeadingCode')[0].getValue(),",
                    " DisburseDate :Ext.ComponentQuery.query('#txtDateAD')[0].getValue(),",
                    " LoanAmount :Ext.ComponentQuery.query('#txtAddDisburseAmt')[0].getValue(),",
                    " ContraAccount :Ext.ComponentQuery.query('#ddlContraAcc')[0].getValue(),",
                    " EmployeeId :Ext.ComponentQuery.query('#txtFieldAssistantCode')[0].getValue(),",
                    " TranOffice_Code :getOfficeCode(),",
                    " Deduction1Code :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction1Desc :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " DeductionAmount1 :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction2Code :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction2Desc :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " DeductionAmount2 :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction3Code :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction3Desc :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " DeductionAmount3 :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction4Code :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction4Desc :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " DeductionAmount4 :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " ChkAdjust_Saving :Ext.ComponentQuery.query('#chkAdjustSaving')[0].getValue()?'Y':'N',",
                    " SavingAccount_No :Ext.ComponentQuery.query('#ddlAdjustSaving')[0].getValue(),",
                    " User1 : getCurrentUser(),",
                    " InsertUpdate : 'I'",
                    "};",
                    "",
                    "",
                    "var waitSave = watiMsg('Saving . Please wait ...');",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MfAdditionalLoanDisbursementHandler.ashx',",
                    "                    params:{method:'Save', mfAdditionalLoanDisbursement : JSON.stringify(objMFAddLoanDis)",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            ",
                    "                            waitSave.hide();",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });"
                ],
                "name": "click",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string",
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view"
            },
            "name": "onBtnDisburseLoanClick",
            "designerId": "d699dc99-5e06-4734-a702-172ed0193d17"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#ddlSearchLoanNo",
                "designer|params": [
                    "combo",
                    "records",
                    "eOpts"
                ],
                "designer|targetType": "MyComboBox39",
                "fn": "onDdlLoanNoSelect",
                "implHandler": [
                    "var clientName = records[0].data.ClientName;",
                    "Ext.ComponentQuery.query('#txtSearchMemberName')[0].setValue(clientName);"
                ],
                "name": "select",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string",
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view"
            },
            "name": "onDdlLoanNoSelect",
            "designerId": "9ad5387c-c558-4bd6-ad74-63207fa1802b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnSearchMFAddLoanDisburse",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "MyButton35",
                "fn": "onBtnSearchMFAddLoanDisburseClick",
                "implHandler": [
                    "var waitSave = watiMsg('Loading data. Please wait ...');",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MfAdditionalLoanDetailHandler.ashx',",
                    "                    params:{method:'GetMfAdditionalLoanDetail', offCode : getOfficeCode(),",
                    "                            clientName : Ext.ComponentQuery.query('#txtSearchMemberName')[0].getValue(),",
                    "                            loanNo : Ext.ComponentQuery.query('#ddlSearchLoanNo')[0].getValue(),",
                    "                            dateFrom : Ext.ComponentQuery.query('#txtSearchDisburseDateFromBS')[0].getValue(),",
                    "                            dateTo :Ext.ComponentQuery.query('#txtSearchDisburseDateToBS')[0].getValue()",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('SearchMFAddLoanDisburseStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "                            waitSave.hide();",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });"
                ],
                "name": "click",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string",
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view"
            },
            "name": "onBtnSearchMFAddLoanDisburseClick",
            "designerId": "e9da183f-1f6d-4214-8680-3900c4a65272"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#frmMFAdditonalLoanDisbursement",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "MyForm13",
                "fn": "onFrmMFAdditonalLoanDisbursementAfterRender",
                "implHandler": [
                    "var waitSave = watiMsg('Loading data. Please wait ...');",
                    "",
                    "",
                    "//get for center",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Maintenance/CenterHandler.ashx',",
                    "                    params:{method:'GetTransferCenterList',offCode:getOfficeCode(), centerName:null, oldCenterCode:null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('SearchCenterStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "//get for loan no.",
                    "",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MfAdditionalLoanHandler.ashx',",
                    "                    params:{method:'GetMfAdditionalLoan', offCode : getOfficeCode(), centerCode : null, clientName :null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('LoanNoMFStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "//get for product type",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/GeneralMasterParameters/References/MsRefrenceCodeDetailsHandler.ashx',",
                    "                    params:{method:'GetReferenceDetailListShort',referenceCode:'LOAN_PERIOD_TYPE'",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('ReferenceShortStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "//get for installment type",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/GeneralMasterParameters/References/MsRefrenceCodeDetailsHandler.ashx',",
                    "                    params:{method:'GetReferenceDetailListShort',referenceCode:'INSTALLMENT_PERIOD_TYPE'",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('InstallmentTypeRefShortStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "//get for interest rate",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/GeneralMasterParameters/References/MsRefrenceCodeDetailsHandler.ashx',",
                    "                    params:{method:'GetReferenceDetailListShort',referenceCode:'MF_INTEREST_RATE'",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('InterestRateRefShortStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "//get for contra account",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Maintenance/AccountHeadEntryHandler.ashx',",
                    "                    params:{method:'GetContraAccount',offCode:getOfficeCode(), accountDesc:null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('ContraAccountStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "                            Ext.ComponentQuery.query('#ddlContraAcc')[0].select('100000021000002');",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "",
                    "//get for adjust saving",
                    "",
                    "",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MfAdjustSavingHandler.ashx',",
                    "                    params:{method:'GetMfAdjustSaving',offCode:getOfficeCode(),clientNo:null,productName :null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('AdjustToSavingStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "                           ",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "",
                    "//get for loan no in search field",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MfLoanSearchHandler.ashx',",
                    "                    params:{method:'GetMfLoanSearch', offCode : getOfficeCode(), loanDno : Ext.ComponentQuery.query('#ddlLoanNo')[0].getValue()",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('SearchLoanNoStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "                            waitSave.hide();",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });"
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string",
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view"
            },
            "name": "onFrmMFAdditonalLoanDisbursementAfterRender",
            "designerId": "a8af6ca6-2106-4112-8cdf-d62479e19155"
        }
    ]
}