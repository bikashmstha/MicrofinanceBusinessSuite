/*
 * File: app/view/DocUploadDo3.js
 *
 * This file was generated by Sencha Architect version 2.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.DocUploadDo3', {
    extend: 'Ext.panel.Panel',

    frame: true,
    itemId: 'pnlDocUploadD03',
    width: 860,
    autoScroll: true,
    title: 'Document Upload D03 ( पछाडि गएर अनुसूची तय गर्न <div id="lnkDocUploadD03" style="cursor:pointer;color:red;display:inline;text-decoration:underline"><span>यहाँ कि्लक</span></div> गर्नुहोस् ।)',

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'form',
                    frame: true,
                    itemId: 'frmDocUploadDo3',
                    margin: 5,
                    maxHeight: 450,
                    autoScroll: true,
                    bodyPadding: 10,
                    items: [
                        {
                            xtype: 'label',
                            html: ' ( नोट: प्रत्येक फाईल बढीमा 1 MB सम्मको मात्र हुनुपर्ने छ ।  )',
                            itemId: 'lblNoteDocD03',
                            margin: '0 0 5 0',
                            text: 'My Label'
                        },
                        {
                            xtype: 'panel',
                            frame: true,
                            margin: '5 0 5 0',
                            maxHeight: 500,
                            minHeight: 200,
                            bodyBorder: false,
                            title: 'Balance Sheet',
                            items: [
                                {
                                    xtype: 'form',
                                    border: 0,
                                    frame: true,
                                    itemId: 'frmBalanceSheetD03',
                                    style: 'border:0px',
                                    bodyPadding: 10,
                                    items: [
                                        {
                                            xtype: 'container',
                                            itemId: 'cntBalanceSheetD03',
                                            layout: {
                                                columns: 3,
                                                type: 'table'
                                            },
                                            items: [
                                                {
                                                    xtype: 'filefield',
                                                    itemId: 'fupBalanceSheetD03',
                                                    margin: 5,
                                                    width: 400,
                                                    fieldLabel: 'File',
                                                    labelWidth: 50
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'cboBalanceSheetPgD03',
                                                    margin: '0 10',
                                                    width: 130,
                                                    fieldLabel: 'Page No.',
                                                    labelWidth: 65,
                                                    value: 1,
                                                    displayField: 'PageName',
                                                    forceSelection: true,
                                                    queryMode: 'local',
                                                    store: 'PageD03',
                                                    valueField: 'PageID'
                                                },
                                                {
                                                    xtype: 'button',
                                                    itemId: 'btnBalanceSheetD03',
                                                    iconCls: 'icon-upload',
                                                    text: 'Upload'
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'gridpanel',
                                            itemId: 'grdBalanceSheetD03',
                                            margin: '0 0 0 0',
                                            width: 480,
                                            title: 'Uploaded Files ...',
                                            store: 'DocD03',
                                            columns: [
                                                {
                                                    xtype: 'rownumberer',
                                                    width: 20
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                                                        return "Page " + value;
                                                    },
                                                    width: 70,
                                                    dataIndex: 'PageNo',
                                                    text: 'Page No'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 180,
                                                    dataIndex: 'FileName',
                                                    text: 'File Name'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 100,
                                                    dataIndex: 'FileMimeType',
                                                    text: 'File Type'
                                                },
                                                {
                                                    xtype: 'actioncolumn',
                                                    width: 80,
                                                    items: [
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = Ext.getStore("DocD03");

                                                                var row = store.getAt(rowIndex).data;

                                                                var form = view.up('form').getForm();

                                                                if(form.isValid()){
                                                                    form.submit({
                                                                        url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=View',
                                                                        params:{fileName:row.FileName,contentType:row.FileMimeType,submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID},
                                                                        //waitMsg: 'Uploading your photo...',
                                                                        success: function(fp, o) {
                                                                            //msg('Success', 'Processed file "' + o.result.file + '" on the server');
                                                                            console.log("fp",fp);
                                                                            console.log("o",o);

                                                                            msg("succcess!!!");
                                                                        },
                                                                        failure:function(result, request){
                                                                            msg('ERROR OCURRED !!!', 'Error in fetching data');                 
                                                                        }
                                                                    });
                                                                }

                                                            },
                                                            icon: '../ITS/resources/images/icons/eye.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'View'
                                                        },
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();
                                                                var row = store.getAt(rowIndex).data;

                                                                Ext.Msg.confirm('Confirm Action', 'Do you want to Remove ?', function(btn) {
                                                                    if(btn == 'yes'){


                                                                        Ext.Ajax.request({
                                                                            url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=Delete',
                                                                            params:{submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID,fileName :row.FileName},
                                                                            async : false,
                                                                            success: function ( result, request ) {      

                                                                                var obj = Ext.decode(result.responseText);   

                                                                                if(obj.success === "true")
                                                                                {
                                                                                    store.removeAt(rowIndex);
                                                                                    return true;
                                                                                }
                                                                                else
                                                                                {  
                                                                                    msg("WARNING",obj.message);  
                                                                                }
                                                                            },
                                                                            failure:  function ( result, request ) { 

                                                                                msg("FAILURE","Error in Deleting File !!!");        
                                                                            }
                                                                        });

                                                                    }
                                                                }, this);

                                                            },
                                                            icon: '../ITS/resources/images/icons/cancel.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'Delete'
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            frame: true,
                            margin: '5 0 5 0',
                            maxHeight: 500,
                            minHeight: 200,
                            bodyBorder: false,
                            title: 'Cash Flow Statement',
                            items: [
                                {
                                    xtype: 'form',
                                    border: 0,
                                    frame: true,
                                    itemId: 'frmCfsD03',
                                    style: 'border:0px',
                                    bodyPadding: 10,
                                    items: [
                                        {
                                            xtype: 'container',
                                            itemId: 'cntCfsD03',
                                            layout: {
                                                columns: 3,
                                                type: 'table'
                                            },
                                            items: [
                                                {
                                                    xtype: 'filefield',
                                                    itemId: 'fupCfsD03',
                                                    margin: 5,
                                                    width: 400,
                                                    fieldLabel: 'File',
                                                    labelWidth: 50
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'cboCfsPgD03',
                                                    margin: '0 10',
                                                    width: 130,
                                                    fieldLabel: 'Page No.',
                                                    labelWidth: 65,
                                                    value: 1,
                                                    displayField: 'PageName',
                                                    forceSelection: true,
                                                    queryMode: 'local',
                                                    store: 'PageD03',
                                                    valueField: 'PageID'
                                                },
                                                {
                                                    xtype: 'button',
                                                    itemId: 'btnCfsD03',
                                                    iconCls: 'icon-upload',
                                                    text: 'Upload'
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'gridpanel',
                                            itemId: 'grdCfsD03',
                                            margin: '0 0 0 0',
                                            width: 480,
                                            title: 'Uploaded Files ...',
                                            columns: [
                                                {
                                                    xtype: 'rownumberer',
                                                    width: 20
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                                                        return "Page " + value;
                                                    },
                                                    width: 70,
                                                    dataIndex: 'PageNo',
                                                    text: 'Page No'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 180,
                                                    dataIndex: 'FileName',
                                                    text: 'File Name'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 100,
                                                    dataIndex: 'FileMimeType',
                                                    text: 'File Type'
                                                },
                                                {
                                                    xtype: 'actioncolumn',
                                                    width: 80,
                                                    items: [
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();

                                                                var row = store.getAt(rowIndex).data;

                                                                var form = view.up('form').getForm();

                                                                if(form.isValid()){
                                                                    form.submit({
                                                                        url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=View',
                                                                        params:{fileName:row.FileName,contentType:row.FileMimeType,submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID},
                                                                        //waitMsg: 'Uploading your photo...',
                                                                        success: function(fp, o) {
                                                                            //msg('Success', 'Processed file "' + o.result.file + '" on the server');
                                                                            console.log("fp",fp);
                                                                            console.log("o",o);

                                                                            msg("succcess!!!");
                                                                        },
                                                                        failure:function(result, request){
                                                                            msg('ERROR OCURRED !!!', 'Error in fetching data');                 
                                                                        }
                                                                    });
                                                                }

                                                            },
                                                            icon: '../ITS/resources/images/icons/eye.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'View'
                                                        },
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();
                                                                var row = store.getAt(rowIndex).data;

                                                                Ext.Msg.confirm('Confirm Action', 'Do you want to Remove ?', function(btn) {
                                                                    if(btn == 'yes'){
                                                                        Ext.Ajax.request({
                                                                            url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=Delete',
                                                                            params:{submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID,fileName :row.FileName},
                                                                            async : false,
                                                                            success: function ( result, request ) {      

                                                                                var obj = Ext.decode(result.responseText);   

                                                                                if(obj.success === "true")
                                                                                {
                                                                                    store.removeAt(rowIndex);
                                                                                    return true;
                                                                                }
                                                                                else
                                                                                {  
                                                                                    msg("WARNING",obj.message);  
                                                                                }
                                                                            },
                                                                            failure:  function ( result, request ) { 

                                                                                msg("FAILURE","Error in Deleting File !!!");        
                                                                            }
                                                                        });

                                                                    }
                                                                }, this);


                                                            },
                                                            icon: '../ITS/resources/images/icons/cancel.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'Delete'
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            frame: true,
                            margin: '5 0 5 0',
                            maxHeight: 500,
                            minHeight: 200,
                            bodyBorder: false,
                            title: 'Income Statement',
                            items: [
                                {
                                    xtype: 'form',
                                    border: 0,
                                    frame: true,
                                    itemId: 'frmIncomeStmtD03',
                                    style: 'border:0px',
                                    bodyPadding: 10,
                                    items: [
                                        {
                                            xtype: 'container',
                                            itemId: 'cntIncomeStmtD03',
                                            layout: {
                                                columns: 3,
                                                type: 'table'
                                            },
                                            items: [
                                                {
                                                    xtype: 'filefield',
                                                    itemId: 'fupIncomeStmtD03',
                                                    margin: 5,
                                                    width: 400,
                                                    fieldLabel: 'File',
                                                    labelWidth: 50
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'cboIncomeStmtPgD03',
                                                    margin: '0 10',
                                                    width: 130,
                                                    fieldLabel: 'Page No.',
                                                    labelWidth: 65,
                                                    value: 1,
                                                    displayField: 'PageName',
                                                    forceSelection: true,
                                                    queryMode: 'local',
                                                    store: 'PageD03',
                                                    valueField: 'PageID'
                                                },
                                                {
                                                    xtype: 'button',
                                                    itemId: 'btnIncomeStmtD03',
                                                    iconCls: 'icon-upload',
                                                    text: 'Upload'
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'gridpanel',
                                            itemId: 'grdIncomeStmtD03',
                                            margin: '0 0 0 0',
                                            width: 480,
                                            title: 'Uploaded Files ...',
                                            columns: [
                                                {
                                                    xtype: 'rownumberer',
                                                    width: 20
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                                                        return "Page " + value;
                                                    },
                                                    width: 70,
                                                    dataIndex: 'PageNo',
                                                    text: 'Page No'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 180,
                                                    dataIndex: 'FileName',
                                                    text: 'File Name'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 100,
                                                    dataIndex: 'FileMimeType',
                                                    text: 'File Type'
                                                },
                                                {
                                                    xtype: 'actioncolumn',
                                                    width: 80,
                                                    items: [
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();

                                                                var row = store.getAt(rowIndex).data;

                                                                var form = view.up('form').getForm();

                                                                if(form.isValid()){
                                                                    form.submit({
                                                                        url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=View',
                                                                        params:{fileName:row.FileName,contentType:row.FileMimeType,submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID},
                                                                        //waitMsg: 'Uploading your photo...',
                                                                        success: function(fp, o) {
                                                                            //msg('Success', 'Processed file "' + o.result.file + '" on the server');
                                                                            console.log("fp",fp);
                                                                            console.log("o",o);

                                                                            msg("succcess!!!");
                                                                        },
                                                                        failure:function(result, request){
                                                                            msg('ERROR OCURRED !!!', 'Error in fetching data');                 
                                                                        }
                                                                    });
                                                                }

                                                            },
                                                            icon: '../ITS/resources/images/icons/eye.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'View'
                                                        },
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();
                                                                var row = store.getAt(rowIndex).data;

                                                                Ext.Msg.confirm('Confirm Action', 'Do you want to Remove ?', function(btn) {
                                                                    if(btn == 'yes'){
                                                                        Ext.Ajax.request({
                                                                            url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=Delete',
                                                                            params:{submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID,fileName :row.FileName},
                                                                            async : false,
                                                                            success: function ( result, request ) {      

                                                                                var obj = Ext.decode(result.responseText);   

                                                                                if(obj.success === "true")
                                                                                {
                                                                                    store.removeAt(rowIndex);
                                                                                    return true;
                                                                                }
                                                                                else
                                                                                {  
                                                                                    msg("WARNING",obj.message);  
                                                                                }
                                                                            },
                                                                            failure:  function ( result, request ) { 

                                                                                msg("FAILURE","Error in Deleting File !!!");        
                                                                            }
                                                                        });

                                                                    }
                                                                }, this);


                                                            },
                                                            icon: '../ITS/resources/images/icons/cancel.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'Delete'
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            frame: true,
                            margin: '5 0 5 0',
                            maxHeight: 500,
                            minHeight: 200,
                            bodyBorder: false,
                            title: 'Financial Report Annexes',
                            items: [
                                {
                                    xtype: 'form',
                                    border: 0,
                                    frame: true,
                                    itemId: 'frmFinRepAnxD03',
                                    style: 'border:0px',
                                    bodyPadding: 10,
                                    items: [
                                        {
                                            xtype: 'container',
                                            itemId: 'cntFinRepAnxD03',
                                            layout: {
                                                columns: 3,
                                                type: 'table'
                                            },
                                            items: [
                                                {
                                                    xtype: 'filefield',
                                                    itemId: 'fupFinRepAnxD03',
                                                    margin: 5,
                                                    width: 400,
                                                    fieldLabel: 'File',
                                                    labelWidth: 50
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'cboFinRepAnxPgD03',
                                                    margin: '0 10',
                                                    width: 130,
                                                    fieldLabel: 'Page No.',
                                                    labelWidth: 65,
                                                    value: 1,
                                                    displayField: 'PageName',
                                                    forceSelection: true,
                                                    queryMode: 'local',
                                                    store: 'PageD03',
                                                    valueField: 'PageID'
                                                },
                                                {
                                                    xtype: 'button',
                                                    itemId: 'btnFinRepAnxD03',
                                                    iconCls: 'icon-upload',
                                                    text: 'Upload'
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'gridpanel',
                                            itemId: 'grdFinRepAnxD03',
                                            margin: '0 0 0 0',
                                            width: 480,
                                            title: 'Uploaded Files ...',
                                            columns: [
                                                {
                                                    xtype: 'rownumberer',
                                                    width: 20
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                                                        return "Page " + value;
                                                    },
                                                    width: 70,
                                                    dataIndex: 'PageNo',
                                                    text: 'Page No'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 180,
                                                    dataIndex: 'FileName',
                                                    text: 'File Name'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 100,
                                                    dataIndex: 'FileMimeType',
                                                    text: 'File Type'
                                                },
                                                {
                                                    xtype: 'actioncolumn',
                                                    width: 80,
                                                    items: [
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();

                                                                var row = store.getAt(rowIndex).data;

                                                                var form = view.up('form').getForm();

                                                                if(form.isValid()){
                                                                    form.submit({
                                                                        url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=View',
                                                                        params:{fileName:row.FileName,contentType:row.FileMimeType,submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID},
                                                                        //waitMsg: 'Uploading your photo...',
                                                                        success: function(fp, o) {
                                                                            //msg('Success', 'Processed file "' + o.result.file + '" on the server');
                                                                            console.log("fp",fp);
                                                                            console.log("o",o);

                                                                            msg("succcess!!!");
                                                                        },
                                                                        failure:function(result, request){
                                                                            msg('ERROR OCURRED !!!', 'Error in fetching data');                 
                                                                        }
                                                                    });
                                                                }

                                                            },
                                                            icon: '../ITS/resources/images/icons/eye.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'View'
                                                        },
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();
                                                                var row = store.getAt(rowIndex).data;

                                                                Ext.Msg.confirm('Confirm Action', 'Do you want to Remove ?', function(btn) {
                                                                    if(btn == 'yes'){

                                                                        Ext.Ajax.request({
                                                                            url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=Delete',
                                                                            params:{submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID,fileName :row.FileName},
                                                                            async : false,
                                                                            success: function ( result, request ) {      

                                                                                var obj = Ext.decode(result.responseText);   

                                                                                if(obj.success === "true")
                                                                                {
                                                                                    store.removeAt(rowIndex);
                                                                                    return true;
                                                                                }
                                                                                else
                                                                                {  
                                                                                    msg("WARNING",obj.message);  
                                                                                }
                                                                            },
                                                                            failure:  function ( result, request ) { 

                                                                                msg("FAILURE","Error in Deleting File !!!");        
                                                                            }
                                                                        });

                                                                    }
                                                                }, this);


                                                            },
                                                            icon: '../ITS/resources/images/icons/cancel.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'Delete'
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            frame: true,
                            margin: '5 0 5 0',
                            maxHeight: 500,
                            minHeight: 200,
                            bodyBorder: false,
                            title: 'Notes to Account',
                            items: [
                                {
                                    xtype: 'form',
                                    border: 0,
                                    frame: true,
                                    itemId: 'frmNotesToAcctD03',
                                    style: 'border:0px',
                                    bodyPadding: 10,
                                    items: [
                                        {
                                            xtype: 'container',
                                            itemId: 'cntNotesToAcctD03',
                                            layout: {
                                                columns: 3,
                                                type: 'table'
                                            },
                                            items: [
                                                {
                                                    xtype: 'filefield',
                                                    itemId: 'fupNotesToAcctD03',
                                                    margin: 5,
                                                    width: 400,
                                                    fieldLabel: 'File',
                                                    labelWidth: 50
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    itemId: 'cboNotesToAcctPgD03',
                                                    margin: '0 10',
                                                    width: 130,
                                                    fieldLabel: 'Page No.',
                                                    labelWidth: 65,
                                                    value: 1,
                                                    displayField: 'PageName',
                                                    forceSelection: true,
                                                    queryMode: 'local',
                                                    store: 'PageD03',
                                                    valueField: 'PageID'
                                                },
                                                {
                                                    xtype: 'button',
                                                    itemId: 'btnNotesToAcctD03',
                                                    iconCls: 'icon-upload',
                                                    text: 'Upload'
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'gridpanel',
                                            itemId: 'grdNotesToAcctD03',
                                            margin: '0 0 0 0',
                                            width: 480,
                                            title: 'Uploaded Files ...',
                                            columns: [
                                                {
                                                    xtype: 'rownumberer',
                                                    width: 20
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                                                        return "Page " + value;
                                                    },
                                                    width: 70,
                                                    dataIndex: 'PageNo',
                                                    text: 'Page No'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 180,
                                                    dataIndex: 'FileName',
                                                    text: 'File Name'
                                                },
                                                {
                                                    xtype: 'gridcolumn',
                                                    width: 100,
                                                    dataIndex: 'FileMimeType',
                                                    text: 'File Type'
                                                },
                                                {
                                                    xtype: 'actioncolumn',
                                                    width: 80,
                                                    items: [
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();

                                                                var row = store.getAt(rowIndex).data;

                                                                var form = view.up('form').getForm();

                                                                if(form.isValid()){
                                                                    form.submit({
                                                                        url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=View',
                                                                        params:{fileName:row.FileName,contentType:row.FileMimeType,submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID},
                                                                        //waitMsg: 'Uploading your photo...',
                                                                        success: function(fp, o) {
                                                                            //msg('Success', 'Processed file "' + o.result.file + '" on the server');
                                                                            console.log("fp",fp);
                                                                            console.log("o",o);

                                                                            msg("succcess!!!");
                                                                        },
                                                                        failure:function(result, request){
                                                                            msg('ERROR OCURRED !!!', 'Error in fetching data');                 
                                                                        }
                                                                    });
                                                                }

                                                            },
                                                            icon: '../ITS/resources/images/icons/eye.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'View'
                                                        },
                                                        {
                                                            handler: function(view, rowIndex, colIndex, item, e) {
                                                                var store = view.getStore();
                                                                var row = store.getAt(rowIndex).data;

                                                                Ext.Msg.confirm('Confirm Action', 'Do you want to Remove ?', function(btn) {
                                                                    if(btn == 'yes'){

                                                                        Ext.Ajax.request({
                                                                            url: '../Handlers/IncomeTax/D03/DocumentUploadD03.ashx?method=Delete',
                                                                            params:{submissionNo:row.SubmissionNo,pageNo:row.PageNo,docID:row.DocID,fileName :row.FileName},
                                                                            async : false,
                                                                            success: function ( result, request ) {      

                                                                                var obj = Ext.decode(result.responseText);   

                                                                                if(obj.success === "true")
                                                                                {
                                                                                    store.removeAt(rowIndex);
                                                                                    return true;
                                                                                }
                                                                                else
                                                                                {  
                                                                                    msg("WARNING",obj.message);  
                                                                                }
                                                                            },
                                                                            failure:  function ( result, request ) { 

                                                                                msg("FAILURE","Error in Deleting File !!!");        
                                                                            }
                                                                        });

                                                                    }
                                                                }, this);


                                                            },
                                                            icon: '../ITS/resources/images/icons/cancel.png',
                                                            iconCls: 'iconMargin',
                                                            tooltip: 'Delete'
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    }

});