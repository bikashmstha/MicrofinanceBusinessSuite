{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "MEAdditionalLoanDisbursement",
        "stores": [
            "LoanProductCodeStore",
            "LoanNoMFStore",
            "MEFieldAssistantStore",
            "ReferenceShortStore",
            "InterestRateRefShortStore",
            "InstallmentTypeRefShortStore",
            "ContraAccountStore",
            "AdjustToSavingStore",
            "SearchMEAddLoanDisburseStore"
        ]
    },
    "configAlternates": {
        "designer|userClassName": "string",
        "stores": "typedarray"
    },
    "name": "MyController",
    "designerId": "05617b5d-dbe8-416b-94b8-611923a83572",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnDisburseLoan",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "MyButton3",
                "fn": "onBtnDisburseLoanClick",
                "implHandler": [
                    "",
                    "var objMEAddLoanDis = {/*",
                    " LoanNo : Ext.ComponentQuery.query('#ddlLoanNo')[0].getValue(),",
                    " LoanProduct_Code :Ext.ComponentQuery.query('#ddlLoanProductCode')[0].getValue(),",
                    " DisburseDate :Ext.ComponentQuery.query('#txtDateAD')[0].getValue(),",
                    " LoanAmount :Ext.ComponentQuery.query('#txtAdditionalDisburseAmt')[0].getValue(),",
                    " ContraAccount :Ext.ComponentQuery.query('#ddlContraAccount')[0].getValue(),",
                    " EmployeeId :Ext.ComponentQuery.query('#ddlFieldAssistantCode')[0].getValue(),",
                    " TranOffice_Code :getOfficeCode(),",
                    " Deduction1Code :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction1Desc :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " DeductionAmount1 :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction2Code :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction2Desc :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " DeductionAmount2 :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction3Code :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction3Desc :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " DeductionAmount3 :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction4Code :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " Deduction4Desc :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " DeductionAmount4 :Ext.ComponentQuery.query('#')[0].getValue(),",
                    " ChkAdjust_Saving :Ext.ComponentQuery.query('#chkAdjustSaving')[0].getValue()?'Y':'N',",
                    " SavingAccount_No :Ext.ComponentQuery.query('#ddlAdjustSaving')[0].getValue(),",
                    " User1 : getCurrentUser(),",
                    " InsertUpdate : 'I'*/",
                    "};",
                    "",
                    "",
                    "var waitSave = watiMsg('Saving . Please wait ...');",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MeAdditionalLoanDisbursementHandler.ashx',",
                    "                    params:{method:'Save', meAdditionalLoanDisbursement : JSON.stringify(objMEAddLoanDis)",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "",
                    "                            waitSave.hide();",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Save Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Save Data\");    }",
                    "                });"
                ],
                "name": "click",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string",
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view"
            },
            "name": "onBtnDisburseLoanClick",
            "designerId": "6dc9d855-7bd3-429d-a4bb-66a3916252f1"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#btnSearch",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "MyButton4",
                "fn": "onBtnSearchClick",
                "implHandler": [
                    "var waitSave = watiMsg('Loading data. Please wait ...');",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MeAdditionalLoanDetailHandler.ashx',",
                    "                    params:{method:'GetMeAdditionalLoanDetail', offCode : getOfficeCode(),",
                    "                            clientName : Ext.ComponentQuery.query('#txtSearchMemberName')[0].getValue(),",
                    "                            loanNo : Ext.ComponentQuery.query('#txtSearchLoanNo')[0].getValue(),",
                    "                            dateFrom : Ext.ComponentQuery.query('#txtSearchDisburseDateFromBS')[0].getValue(),",
                    "                            dateTo :Ext.ComponentQuery.query('#txtSearchDisburseDateToBS')[0].getValue()",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('SearchMEAddLoanDisburseStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "                            waitSave.hide();",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });"
                ],
                "name": "click",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string",
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view"
            },
            "name": "onBtnSearchClick",
            "designerId": "d5603362-b72c-429b-90e7-582b4f6aed55"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#frmMEAdditionalLoanDisbursement",
                "designer|params": [
                    "container",
                    "layout",
                    "eOpts"
                ],
                "designer|targetType": "MyForm1",
                "fn": "onFrmMEAdditionalLoanDisbursementAfterLayout",
                "implHandler": [
                    "//loading date for text boxes",
                    "Ext.ComponentQuery.query('#txtDateBS')[0].setValue(getMisDateBS());",
                    "Ext.ComponentQuery.query('#txtDateAD')[0].setValue(getMisDateAD());",
                    "Ext.ComponentQuery.query('#txtSearchDisburseDateFromBS')[0].setValue(getMisDateBS());",
                    "Ext.ComponentQuery.query('#txtSearchDisburseDateToBS')[0].setValue(getMisDateBS());",
                    "",
                    "",
                    "",
                    "//var waitSave = watiMsg('Loading data. Please wait ...');",
                    "",
                    "",
                    "//get for loan product",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MeLoanProductHandler.ashx',",
                    "                    params:{method:'GetMeLoanProduct',productName:null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('LoanProductCodeStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "",
                    "//get for loan no.",
                    "",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MeAdditionalLoanHandler.ashx',",
                    "                    params:{method:'GetMeAdditionalLoan', offCode : getOfficeCode(), productCode : null, clientName :null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('LoanNoMFStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "",
                    "",
                    "//get for field assistant",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Supervisor/EmployeeHandler.ashx',",
                    "                    params:{method:'GetFieldAssistants', officeCode : getOfficeCode(), empName : null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('MEFieldAssistantStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "",
                    "",
                    "//get for period type",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/GeneralMasterParameters/References/MsRefrenceCodeDetailsHandler.ashx',",
                    "                    params:{method:'GetReferenceDetailListShort',referenceCode:'LOAN_PERIOD_TYPE'",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('ReferenceShortStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "//get for installment type",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/GeneralMasterParameters/References/MsRefrenceCodeDetailsHandler.ashx',",
                    "                    params:{method:'GetReferenceDetailListShort',referenceCode:'INSTALLMENT_PERIOD_TYPE'",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('InstallmentTypeRefShortStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "//get for interest rate",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/GeneralMasterParameters/References/MsRefrenceCodeDetailsHandler.ashx',",
                    "                    params:{method:'GetReferenceDetailListShort',referenceCode:'MF_INTEREST_RATE'",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('InterestRateRefShortStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "",
                    "",
                    "//get for contra account",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Maintenance/AccountHeadEntryHandler.ashx',",
                    "                    params:{method:'GetContraAccount',offCode:getOfficeCode(), accountDesc:null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('ContraAccountStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "                            Ext.ComponentQuery.query('#ddlContraAccount')[0].select('100000021000002');",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "",
                    "//get for adjust saving",
                    "",
                    "",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MfAdjustSavingHandler.ashx',",
                    "                    params:{method:'GetMfAdjustSaving',offCode:getOfficeCode(),clientNo:null,productName :null",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('AdjustToSavingStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "/*",
                    "//get for loan no in search field",
                    "",
                    "Ext.Ajax.request({",
                    "                    url:'../Handlers/Finance/Transaction/LoanTransaction/MfLoanSearchHandler.ashx',",
                    "                    params:{method:'GetMfLoanSearch', offCode : getOfficeCode(), loanDno : Ext.ComponentQuery.query('#ddlLoanNo')[0].getValue()",
                    "        },",
                    "                    success: function ( result, request ) {",
                    "",
                    "                        var obj = Ext.decode(result.responseText);",
                    "                        if(obj.success === 'true'){",
                    "                            console.log(\"Resu\",obj.root);",
                    "                            var store =Ext.getStore('SearchLoanNoStore');",
                    "                            store.removeAll();",
                    "                            store.add(obj.root);",
                    "                            waitSave.hide();",
                    "",
                    "",
                    "",
                    "                        }else{msg('FAILURE','Could Not Load Data');}",
                    "                    },",
                    "                    failure: function(form, action) {",
                    "                        msg(\"FAILURE\",\"Could Not Load Data\");    }",
                    "                });",
                    "*/"
                ],
                "name": "afterlayout",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string",
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view"
            },
            "name": "onFrmMEAdditionalLoanDisbursementAfterLayout",
            "designerId": "3a0af3a4-650c-4b40-9d09-7a90337b7f19"
        }
    ]
}