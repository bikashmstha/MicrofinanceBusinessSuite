/*
 * File: app/controller/ReturnDetails.js
 *
 * This file was generated by Sencha Architect version 2.2.2.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.controller.ReturnDetails', {
    extend: 'Ext.app.Controller',

    onBtnCancelClick: function(button, e, eOpts) {
        var me = this;

        me.clear("Reset");

        var txtRDPan = Ext.ComponentQuery.query('#txtRDPan')[0];
        var txtRDAccttype = Ext.ComponentQuery.query('#txtRDAccttype')[0];
        var txtRDFromDate = Ext.ComponentQuery.query('#txtRDFromDate')[0];
        var txtRDToDate = Ext.ComponentQuery.query('#txtRDToDate')[0];

        txtRDPan.setValue("");
        txtRDAccttype.setValue("");
        txtRDFromDate.setValue("");
        txtRDToDate.setValue("");

    },

    onBtnGenratePrintClick: function(button, e, eOpts) {
        var me = this;

        var txtRDPan = Ext.ComponentQuery.query('#txtRDPan')[0];
        var txtRDAccttype = Ext.ComponentQuery.query('#txtRDAccttype')[0];
        var txtRDFromDate = Ext.ComponentQuery.query('#txtRDFromDate')[0];
        var txtRDToDate = Ext.ComponentQuery.query('#txtRDToDate')[0];


        var Pan = txtRDPan.getValue();
        var Accttype = txtRDAccttype.getValue();
        var FromDate = txtRDFromDate.getValue();
        var ToDate = txtRDToDate.getValue();

        var act;
        if(Pan ==="")
        {
            msg("WARNING","Please enter Pan",function(){txtRDPan.focus(); });
            return false;
        }

        if(Accttype==="")
        {
            msg("WARNING","Please enter Account Type",function(){txtRDAccttype.focus(); });
            return false;
        }

        if(FromDate==="")
        {
            msg("WARNING","Please enter From Date",function(){txtFromDate.focus(); });
            return false;
        }
        if(ToDate==="")
        {
            msg("WARNING","Please enter To Date",function(){txtToDate.focus(); });
            return false;
        }

        var obj={objPan:Pan,
                objAccttype:Accttype,
                objFromDate:FromDate,
                objToDate:ToDate
            };
        var url="../Reporting/Vat/ReportHandlers/ReturnDetails/ReturnDetailsHandler.ashx";
        var winOption="width=500,height=175,left=50,top=50,resizable=yes,scrollbars=yes";
        OpenWindowWithPost(url,"winOption","NewFile",obj);

        //me.clear("Reset");
        /*var txtRDPan = Ext.ComponentQuery.query('#txtRDPan')[0];
        var txtRDAccttype = Ext.ComponentQuery.query('#txtRDAccttype')[0];
        var txtRDFromDate = Ext.ComponentQuery.query('#txtRDFromDate')[0];
        var txtRDToDate = Ext.ComponentQuery.query('#txtRDToDate')[0];*/

        txtRDPan.setValue("");
        txtRDAccttype.setValue("");
        txtRDFromDate.setValue("");
        txtRDToDate.setValue("");


    },

    clear: function() {
        if(args=="Reset")
        {
            var txtRDPan = Ext.ComponentQuery.query('#txtRDPan')[0];
            var txtRDAccttype = Ext.ComponentQuery.query('#txtRDAccttype')[0];
            var txtRDFromDate = Ext.ComponentQuery.query('#txtRDFromDate')[0];
            var txtRDToDate = Ext.ComponentQuery.query('#txtRDToDate')[0];

            txtRDPan.setValue("");
            txtRDAccttype.setValue("");
            txtRDFromDate.setValue("");
            txtRDToDate.setValue("");

        }
    },

    init: function(application) {
        this.control({
            "#btnCancel": {
                click: this.onBtnCancelClick
            },
            "#btnGenratePrint": {
                click: this.onBtnGenratePrintClick
            }
        });
    }

});
