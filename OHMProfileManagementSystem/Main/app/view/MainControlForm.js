/*
 * File: app/view/MainControlForm.js
 *
 * This file was generated by Sencha Architect version 4.2.2.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.MainControlForm', {
    extend: 'Ext.panel.Panel',

    requires: [
        'Ext.form.Panel',
        'Ext.tab.Panel',
        'Ext.tab.Tab',
        'Ext.form.FieldSet',
        'Ext.form.field.ComboBox',
        'Ext.form.field.Checkbox',
        'Ext.form.field.Number'
    ],

    frame: true,
    title: 'Main Control Form',

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'form',
                    frame: true,
                    itemId: 'frmMainControlForm',
                    bodyPadding: 10,
                    items: [
                        {
                            xtype: 'tabpanel',
                            activeTab: 0,
                            items: [
                                {
                                    xtype: 'panel',
                                    frame: true,
                                    title: 'Company',
                                    items: [
                                        {
                                            xtype: 'fieldset',
                                            frame: true,
                                            padding: 10,
                                            layout: {
                                                type: 'table',
                                                columns: 3
                                            },
                                            items: [
                                                {
                                                    xtype: 'textfield',
                                                    colspan: 3,
                                                    itemId: 'txtInstitutionName',
                                                    fieldLabel: 'Institution Name',
                                                    labelWidth: 150,
                                                    size: 100
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    colspan: 3,
                                                    itemId: 'txtAddress1',
                                                    fieldLabel: 'Address 1',
                                                    labelWidth: 150,
                                                    size: 100
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    colspan: 3,
                                                    itemId: 'txtAddress2',
                                                    fieldLabel: 'Address 2:',
                                                    labelWidth: 150,
                                                    size: 100
                                                },
                                                {
                                                    xtype: 'combobox',
                                                    colspan: 2,
                                                    itemId: 'txtMonthlyWeeklyProcess',
                                                    fieldLabel: 'Monthly/Weekly Process',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtInstallationDate',
                                                    fieldLabel: 'Installation Date'
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    colspan: 2,
                                                    itemId: 'txtCurrentFiscalYear',
                                                    fieldLabel: 'Current Fiscal Year',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtLastFiscalYear',
                                                    fieldLabel: 'Last Fiscal Year'
                                                },
                                                {
                                                    xtype: 'checkboxfield',
                                                    colspan: 2,
                                                    itemId: 'chkBudgetControl',
                                                    fieldLabel: 'Budget Control (Y/N)',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtLocationCode',
                                                    fieldLabel: 'Location Code'
                                                },
                                                {
                                                    xtype: 'checkboxfield',
                                                    colspan: 2,
                                                    itemId: 'chkControlFromCDMS',
                                                    fieldLabel: 'Control From CDMS',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'checkboxfield',
                                                    itemId: 'chkFixedSavingColAmount',
                                                    fieldLabel: 'Fixed Saving Col Amt (Y/N)',
                                                    labelWidth: 170
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'panel',
                                    frame: true,
                                    title: 'Account',
                                    items: [
                                        {
                                            xtype: 'fieldset',
                                            padding: 10,
                                            layout: {
                                                type: 'table',
                                                columns: 2
                                            },
                                            items: [
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtCashAccountCode',
                                                    fieldLabel: 'Cash Account Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtDefaultCurrencyCode',
                                                    margin: '0 0 0 50',
                                                    fieldLabel: 'Default Currency Code',
                                                    labelWidth: 160
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtCashBalanceGroupNo',
                                                    fieldLabel: 'Cash Balance Group No',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtProfitLossAccHead',
                                                    margin: '0 0 0 50',
                                                    fieldLabel: 'Profit and Loss Acc Head',
                                                    labelWidth: 160
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtSubCategoryNo',
                                                    fieldLabel: 'Sub Category No',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'checkboxfield',
                                                    itemId: 'chkApprovalRangeControl',
                                                    margin: '0 0 0 50',
                                                    fieldLabel: 'Approval Range Control',
                                                    labelWidth: 160
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtOtherIncomeAccountNo',
                                                    fieldLabel: 'Other Income Account No',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtOtherExpensesAccountNo',
                                                    margin: '0 0 0 50',
                                                    fieldLabel: 'Other Expenses Account No',
                                                    labelWidth: 160
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'panel',
                                    frame: true,
                                    title: 'Loan',
                                    layout: {
                                        type: 'table',
                                        columns: 2,
                                        tdAttrs: {
                                            valign: 'top'
                                        }
                                    },
                                    items: [
                                        {
                                            xtype: 'container',
                                            border: 0,
                                            items: [
                                                {
                                                    xtype: 'checkboxfield',
                                                    itemId: 'chkAdvanceReceivedOnCenterMeeting',
                                                    fieldLabel: 'Advance Received On Center Meeting Date',
                                                    labelWidth: 250,
                                                    tabIndex: 299
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMandatoryMonthlySavingProduct',
                                                    fieldLabel: 'Mandatory Monthly Saving Product',
                                                    labelWidth: 250,
                                                    tabIndex: 301
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'txtMandatoryMonthlyCollAmount',
                                                    fieldLabel: 'Mandatory Monthly Coll Amount',
                                                    labelWidth: 250,
                                                    tabIndex: 303,
                                                    hideTrigger: true,
                                                    keyNavEnabled: false,
                                                    mouseWheelEnabled: false
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtUnitFundSavingProduct',
                                                    fieldLabel: 'Unit Fund Saving Product',
                                                    labelWidth: 250,
                                                    tabIndex: 305
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'txtUnitFundCollectionAmount',
                                                    fieldLabel: 'Unit Fund Collection Amount',
                                                    labelWidth: 250,
                                                    tabIndex: 307,
                                                    hideTrigger: true,
                                                    keyNavEnabled: false,
                                                    mouseWheelEnabled: false
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtGeneralNormalLoanProductCode',
                                                    fieldLabel: 'General/Normal Loan Product Code',
                                                    labelWidth: 250,
                                                    tabIndex: 307
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMFGeneralLoanAccCode',
                                                    fieldLabel: 'MF General Loan A/C Code',
                                                    labelWidth: 250,
                                                    tabIndex: 309
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtDisasterSavingAccCode',
                                                    fieldLabel: 'Disaster Saving A/C Code',
                                                    labelWidth: 250,
                                                    tabIndex: 311
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMFPerFundAccCode',
                                                    fieldLabel: 'MF Per Fund A/C Code ',
                                                    labelWidth: 250,
                                                    tabIndex: 313
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtIntOnGeneralLoanAccCode',
                                                    fieldLabel: 'Int On General Loan A/C Code',
                                                    labelWidth: 250,
                                                    tabIndex: 315
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMandatoryDeductionTypeCode',
                                                    fieldLabel: 'Mandatory Deduction Type Code',
                                                    labelWidth: 250,
                                                    tabIndex: 317
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'txtMissMonthToTakePaidAmount',
                                                    fieldLabel: 'Miss Month To Take Paid Amount',
                                                    labelWidth: 250,
                                                    tabIndex: 319,
                                                    hideTrigger: true,
                                                    keyNavEnabled: false,
                                                    mouseWheelEnabled: false
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'txtMandatoryAllowYears',
                                                    fieldLabel: 'Mandatory Allow Years',
                                                    labelWidth: 250,
                                                    tabIndex: 321,
                                                    hideTrigger: true,
                                                    keyNavEnabled: false,
                                                    mouseWheelEnabled: false
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'txtMaxPeriodAdditionLoan',
                                                    fieldLabel: 'Max Period Addition Loan',
                                                    labelWidth: 250,
                                                    tabIndex: 323,
                                                    hideTrigger: true,
                                                    keyNavEnabled: false,
                                                    mouseWheelEnabled: false
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'container',
                                            border: 0,
                                            margin: '0 0 0 50',
                                            items: [
                                                {
                                                    xtype: 'checkboxfield',
                                                    itemId: 'chkCreateWelFareFundSavingOnCenterCreation',
                                                    fieldLabel: 'Create Welfare Fund Saving On Center Creation',
                                                    labelWidth: 270,
                                                    tabIndex: 300
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtOptionSavingProduct',
                                                    fieldLabel: 'Option Saving Product',
                                                    labelWidth: 260,
                                                    tabIndex: 302
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtDisasterSavingProduct',
                                                    fieldLabel: 'Disaster Saving Product',
                                                    labelWidth: 260,
                                                    tabIndex: 304
                                                },
                                                {
                                                    xtype: 'checkboxfield',
                                                    itemId: 'chkCentralControlOnMandatoryMonthlySaving',
                                                    margin: '5 0 10 0',
                                                    fieldLabel: 'Central Control On Mandatory/Monthly Saving:',
                                                    labelWidth: 260,
                                                    tabIndex: 306
                                                },
                                                {
                                                    xtype: 'checkboxfield',
                                                    itemId: 'chkCentralControlOnUnitFundSaving',
                                                    margin: '5 0 10 0',
                                                    fieldLabel: 'Central Control On Unit Fund Saving:',
                                                    labelWidth: 260,
                                                    tabIndex: 308
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtStaffLoanProductCode',
                                                    fieldLabel: 'Staff Loan Product Code:',
                                                    labelWidth: 260,
                                                    tabIndex: 310
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMicroEnterpriseAccCode',
                                                    fieldLabel: 'Micro Enterprise Ac Code:',
                                                    labelWidth: 260,
                                                    tabIndex: 312
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtGroupFundLoanAccCode',
                                                    fieldLabel: 'Group Fund Loan Ac Code',
                                                    labelWidth: 260,
                                                    tabIndex: 314
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMFEnterIntAccCode',
                                                    fieldLabel: 'MF Enter Int Ac Code',
                                                    labelWidth: 260,
                                                    tabIndex: 316
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMFPensionAccCode',
                                                    fieldLabel: 'MF Pension Ac Code:',
                                                    labelWidth: 260,
                                                    tabIndex: 318
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtGenLoanProductCode',
                                                    fieldLabel: 'Gen Loan Product Code:',
                                                    labelWidth: 260,
                                                    tabIndex: 320
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'txtMaxNoOfLoan',
                                                    fieldLabel: 'Max No Of Loan:',
                                                    labelWidth: 260,
                                                    tabIndex: 322,
                                                    hideTrigger: true,
                                                    keyNavEnabled: false,
                                                    mouseWheelEnabled: false
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'txtPeriodToTakePaidAmtMon',
                                                    fieldLabel: 'Period To Take Paid Amt Mon:',
                                                    labelWidth: 260,
                                                    tabIndex: 324,
                                                    hideTrigger: true,
                                                    keyNavEnabled: false,
                                                    mouseWheelEnabled: false
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'panel',
                                    frame: true,
                                    title: 'Payroll',
                                    items: [
                                        {
                                            xtype: 'fieldset',
                                            padding: 10,
                                            layout: {
                                                type: 'table',
                                                columns: 2
                                            },
                                            items: [
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtGradeSalaryCode',
                                                    fieldLabel: 'Grade Salary Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtBasicSalaryCode',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Basic Salary Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMinMedicalAllowance',
                                                    fieldLabel: 'Min Medical Allowance',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtOvertimeCode',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Overtime Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtBonusCode',
                                                    fieldLabel: 'Bonus Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtCITCode',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'CIT Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtProvidendFundCode',
                                                    fieldLabel: 'Providend Fund Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtProvidendFundPercent',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Providend Fund (%)',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtOvertimeAllowed',
                                                    fieldLabel: 'Overtime Allowed',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtEarningDeductionCode',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Earning Deduction Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtMedicalAllowanceCode',
                                                    fieldLabel: 'Medical Allowance Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtHouseLeaveCode',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'House Leave Code',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'numberfield',
                                                    itemId: 'txtBonusDays',
                                                    fieldLabel: 'Bonus Days',
                                                    labelWidth: 150,
                                                    hideTrigger: true,
                                                    keyNavEnabled: false,
                                                    mouseWheelEnabled: false
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtSickLeaveCode',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Sick Leave Code',
                                                    labelWidth: 150
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'panel',
                                    frame: true,
                                    title: 'Other New',
                                    items: [
                                        {
                                            xtype: 'fieldset',
                                            padding: 10,
                                            layout: {
                                                type: 'table',
                                                columns: 2
                                            },
                                            items: [
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtClientPhotoPath',
                                                    fieldLabel: 'Client Photo Path',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtJointClientPhotoPath',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Joint Client Photo Path',
                                                    labelWidth: 170
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtEmployeePhotoPath',
                                                    fieldLabel: 'Employee Photo Path',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtNormalSavingProductCode',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Normal Saving Product Code',
                                                    labelWidth: 170
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtSignature1Path',
                                                    fieldLabel: 'Signature 1 Path',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtSignature2Path',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Signature 2 Path',
                                                    labelWidth: 170
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtFingerPrintLeftPath',
                                                    fieldLabel: 'Finger Print Left Path',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtFingerPrintRightPath',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Finger Print Right Path',
                                                    labelWidth: 170
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtLoanIntInDaysOrFixed',
                                                    fieldLabel: 'Loan Int In Days or Fixed',
                                                    labelWidth: 150
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    itemId: 'txtLoanIntCalcDays',
                                                    margin: '0 0 0 100',
                                                    fieldLabel: 'Loan Int Calc Days',
                                                    labelWidth: 170
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'fieldset',
                            padding: 10,
                            title: 'Action',
                            items: [
                                {
                                    xtype: 'button',
                                    hidden: true,
                                    itemId: 'btnInsertControlTable',
                                    padding: 5,
                                    text: 'Insert Control Table'
                                },
                                {
                                    xtype: 'button',
                                    itemId: 'btnUpdateControlTable',
                                    margin: '0 0 0 10',
                                    padding: 5,
                                    text: 'Update Control Table',
                                    listeners: {
                                        click: {
                                            fn: me.onBtnUpdateControlTableClick,
                                            scope: me
                                        }
                                    }
                                }
                            ]
                        }
                    ],
                    listeners: {
                        afterrender: {
                            fn: me.onFrmMainControlFormAfterRender,
                            scope: me
                        }
                    }
                }
            ]
        });

        me.callParent(arguments);
    },

    onBtnUpdateControlTableClick: function(button, e, eOpts) {
        var institutionName=Ext.ComponentQuery.query('#txtInstitutionName')[0].getValue();
                var address1=Ext.ComponentQuery.query('#txtAddress1')[0].getValue();
                var address2=Ext.ComponentQuery.query('#txtAddress2')[0].getValue();
                var monthlyWeeklyProcess=Ext.ComponentQuery.query('#txtMonthlyWeeklyProcess')[0].getValue();
                var installationDate=Ext.ComponentQuery.query('#txtInstallationDate')[0].getValue();
                var currentFiscalYear=Ext.ComponentQuery.query('#txtCurrentFiscalYear')[0].getValue();
                var lastFiscalYear=Ext.ComponentQuery.query('#txtLastFiscalYear')[0].getValue();
                var budgetControl=Ext.ComponentQuery.query('#chkBudgetControl')[0].getValue()===true?'Y':'N';
                var locationCode=Ext.ComponentQuery.query('#txtLocationCode')[0].getValue();
                var controlFromCDMS=Ext.ComponentQuery.query('#chkControlFromCDMS')[0].getValue()===true?'Y':'N';
                var fixedSavingColAmount=Ext.ComponentQuery.query('#chkFixedSavingColAmount')[0].getValue()===true?'Y':'N';

                var cashAccountCode=Ext.ComponentQuery.query('#txtCashAccountCode')[0].getValue();
                var defaultCurrencyCode=Ext.ComponentQuery.query('#txtDefaultCurrencyCode')[0].getValue();
                var cashBalanceGroupNo=Ext.ComponentQuery.query('#txtCashBalanceGroupNo')[0].getValue();
                var profitLossAccHead=Ext.ComponentQuery.query('#txtProfitLossAccHead')[0].getValue();
                var subCategoryNo=Ext.ComponentQuery.query('#txtSubCategoryNo')[0].getValue();
                var approvalRangeControl=Ext.ComponentQuery.query('#chkApprovalRangeControl')[0].getValue()===true?'Y':'N';;
                var otherIncomeAccountNo=Ext.ComponentQuery.query('#txtOtherIncomeAccountNo')[0].getValue();
                var otherExpensesAccountNo=Ext.ComponentQuery.query('#txtOtherExpensesAccountNo')[0].getValue();

                var advanceReceivedOnCenterMeeting=Ext.ComponentQuery.query('#chkAdvanceReceivedOnCenterMeeting')[0].getValue()===true?'Y':'N';
                var mandatoryMonthlySavingProduct=Ext.ComponentQuery.query('#txtMandatoryMonthlySavingProduct')[0].getValue();
                var mandatoryMonthlyCollAmount=Ext.ComponentQuery.query('#txtMandatoryMonthlyCollAmount')[0].getValue();
                var unitFundSavingProduct=Ext.ComponentQuery.query('#txtUnitFundSavingProduct')[0].getValue();
                var unitFundCollectionAmount=Ext.ComponentQuery.query('#txtUnitFundCollectionAmount')[0].getValue();
                var generalNormalLoanProductCode=Ext.ComponentQuery.query('#txtGeneralNormalLoanProductCode')[0].getValue();
                var mfGeneralLoanAccCode=Ext.ComponentQuery.query('#txtMFGeneralLoanAccCode')[0].getValue();
                var disasterSavingAccCode=Ext.ComponentQuery.query('#txtDisasterSavingAccCode')[0].getValue();
                var mfPerFundAccCode=Ext.ComponentQuery.query('#txtMFPerFundAccCode')[0].getValue();
                var intOnGeneralLoanAccCode=Ext.ComponentQuery.query('#txtIntOnGeneralLoanAccCode')[0].getValue();
                var mandatoryDeductionTypeCode=Ext.ComponentQuery.query('#txtMandatoryDeductionTypeCode')[0].getValue();
                var missMonthToTakePaidAmount=Ext.ComponentQuery.query('#txtMissMonthToTakePaidAmount')[0].getValue();
                var mandatoryAllowYears=Ext.ComponentQuery.query('#txtMandatoryAllowYears')[0].getValue();
                var maxPeriodAdditionLoan=Ext.ComponentQuery.query('#txtMaxPeriodAdditionLoan')[0].getValue();

                var createWelFareFundSavingOnCenterCreation=Ext.ComponentQuery.query('#chkCreateWelFareFundSavingOnCenterCreation')[0].getValue()===true?'Y':'N';
                var optionSavingProduct=Ext.ComponentQuery.query('#txtOptionSavingProduct')[0].getValue();
                var disasterSavingProduct=Ext.ComponentQuery.query('#txtDisasterSavingProduct')[0].getValue();
                var centralControlOnMandatoryMonthlySaving=Ext.ComponentQuery.query('#chkCentralControlOnMandatoryMonthlySaving')[0].getValue()===true?'Y':'N';
                var centralControlOnUnitFundSaving=Ext.ComponentQuery.query('#chkCentralControlOnUnitFundSaving')[0].getValue()===true?'Y':'N';
                var staffLoanProductCode=Ext.ComponentQuery.query('#txtStaffLoanProductCode')[0].getValue();
                var microEnterpriseAccCode=Ext.ComponentQuery.query('#txtMicroEnterpriseAccCode')[0].getValue();
                var groupFundLoanAccCode=Ext.ComponentQuery.query('#txtGroupFundLoanAccCode')[0].getValue();
                var mfEnterIntAccCode=Ext.ComponentQuery.query('#txtMFEnterIntAccCode')[0].getValue();
                var mfPensionAccCode=Ext.ComponentQuery.query('#txtMFPensionAccCode')[0].getValue();
                var genLoanProductCode=Ext.ComponentQuery.query('#txtGenLoanProductCode')[0].getValue();
                var maxNoOfLoan=Ext.ComponentQuery.query('#txtMaxNoOfLoan')[0].getValue();
                var periodToTakePaidAmtMon=Ext.ComponentQuery.query('#txtPeriodToTakePaidAmtMon')[0].getValue();

                var gradeSalaryCode=Ext.ComponentQuery.query('#txtGradeSalaryCode')[0].getValue();
                var basicSalaryCode=Ext.ComponentQuery.query('#txtBasicSalaryCode')[0].getValue();
                var minMedicalAllowance=Ext.ComponentQuery.query('#txtMinMedicalAllowance')[0].getValue();
                var overtimeCode=Ext.ComponentQuery.query('#txtOvertimeCode')[0].getValue();
                var bonusCode=Ext.ComponentQuery.query('#txtBonusCode')[0].getValue();
                var citCode=Ext.ComponentQuery.query('#txtCITCode')[0].getValue();
                var providendFundCode=Ext.ComponentQuery.query('#txtProvidendFundCode')[0].getValue();
                var providendFundPercent=Ext.ComponentQuery.query('#txtProvidendFundPercent')[0].getValue();
                var overtimeAllowed=Ext.ComponentQuery.query('#txtOvertimeAllowed')[0].getValue();
                var earningDeductionCode=Ext.ComponentQuery.query('#txtEarningDeductionCode')[0].getValue();
                var medicalAllowanceCode=Ext.ComponentQuery.query('#txtMedicalAllowanceCode')[0].getValue();
                var houseLeaveCode=Ext.ComponentQuery.query('#txtHouseLeaveCode')[0].getValue();
                var bonusDays=Ext.ComponentQuery.query('#txtBonusDays')[0].getValue();
                var sickLeaveCode=Ext.ComponentQuery.query('#txtSickLeaveCode')[0].getValue();

                var clientPhotoPath=Ext.ComponentQuery.query('#txtClientPhotoPath')[0].getValue();
                var jointClientPhotoPath=Ext.ComponentQuery.query('#txtJointClientPhotoPath')[0].getValue();
                var employeePhotoPath=Ext.ComponentQuery.query('#txtEmployeePhotoPath')[0].getValue();
                var normalSavingProductCode=Ext.ComponentQuery.query('#txtNormalSavingProductCode')[0].getValue();
                var signature1Path=Ext.ComponentQuery.query('#txtSignature1Path')[0].getValue();
                var signature2Path=Ext.ComponentQuery.query('#txtSignature2Path')[0].getValue();
                var fingerPrintLeftPath=Ext.ComponentQuery.query('#txtFingerPrintLeftPath')[0].getValue();
                var fingerPrintRightPath=Ext.ComponentQuery.query('#txtFingerPrintRightPath')[0].getValue();
                var loanIntInDaysOrFixed=Ext.ComponentQuery.query('#txtLoanIntInDaysOrFixed')[0].getValue();
                var loanIntCalcdays=Ext.ComponentQuery.query('#txtLoanIntCalcDays')[0].getValue();



                Ext.Msg.confirm('Confirm Action', 'Do you want to Update Control Values ?', function(btn) {
                    if(btn == 'yes'){

                        var controlTable={
                            CurrentFiscalYear:currentFiscalYear,
                LastFiscalYear:lastFiscalYear,
                PLAccountHead:profitLossAccHead,
                CompanyName:institutionName,
                CompanyAddress1:address1,
                CompanyAddress2 :address2,

                MaxPeriodAdditionalLoan:maxPeriodAdditionLoan,
                BasicSalaryCode:basicSalaryCode,
                GradeSalaryCode:gradeSalaryCode,
                PFCode:providendFundCode,
                OvertimeCode :overtimeCode,
                OvertimeAllowed :overtimeAllowed,

                CompulsoryCollectionAmt :mandatoryMonthlyCollAmount,
                MandatoryDedTypeCode :mandatoryDeductionTypeCode,
                PFPercentage :providendFundPercent,
                CashAccountCode :cashAccountCode,
                PeriodToTakePaidAmtMon :periodToTakePaidAmtMon,
                MissMonToTakePaidAmt :missMonthToTakePaidAmount,

                LoanProductCode :generalNormalLoanProductCode,
                DefaultCurrencyCode :defaultCurrencyCode,
                SubCategoryNo :subCategoryNo,
                DonationSubCategoryNo :null,
                MFMandatoryFundAccCode :groupFundLoanAccCode,
                MFPerFundAccCode :mfPerFundAccCode,

                CenterFundAccCode :disasterSavingAccCode,
                MFGenLoanAccCode :mfGeneralLoanAccCode,
                MFPenaltyAccCode :mfPensionAccCode,
                MFEnterpriseAccCode :microEnterpriseAccCode,
                MFEnterIntAccCode: mfEnterIntAccCode,
                IntGenLoanAccCode:intOnGeneralLoanAccCode,

                MandatorySavingProduct :mandatoryMonthlySavingProduct,
                VoluntarySavingProduct :optionSavingProduct,
                MaxNoOfLoan :maxNoOfLoan,
                StaffLoanProductCode :staffLoanProductCode,
                CenterSavingProduct :disasterSavingProduct,
                MandatoryAllowYears :mandatoryAllowYears,

                GenLoanProductCode :genLoanProductCode,
                ExportFilePath :null,
                ImportFilePath :null,
                InstallationDate :installationDate,
                ImportLogPath :null,
                ExportLogpath: null,

                EarningDeductionCode :earningDeductionCode,
                MinMedicalAllowance :minMedicalAllowance,
                MedicalAllowanceCode :medicalAllowanceCode,
                BonusCode :bonusCode,
                BonusDays :bonusDays,
                CitCode :citCode,

                ControlFromCDMS :controlFromCDMS,
                BudgetControlYN :budgetControl,
                LocationCode :locationCode,
                SalesLocation :null,
                SickLeaveCode :sickLeaveCode,
                HouseLeaveCode :houseLeaveCode,

                CashBalanceGroupNo :cashBalanceGroupNo,
                FixdSavingColAmtYN :fixedSavingColAmount,
                ApprovalRangeControl :approvalRangeControl,
                CurrentYear :null,
                MFMemberType :null,
                InvSubCategoryNo :null,

                MandatoryLoanProduct :null,
                WelFareSavingProductCode :null,
                PensionSavingProductCode :null,
                FestivalSavingProductCode :null,
                LifeProSchemeCode :null,
                BranchOnMW :monthlyWeeklyProcess,

                MemProBaseAmount :null,
                MemProRegularAmount :null,
                MidTermIntForPension :null,
                OtherIncomeHead :otherIncomeAccountNo,
                InterestExpOnPensionHead:otherExpensesAccountNo,
                FullTermIntForPension :null,

                UnitFundCollectionAmt :unitFundCollectionAmount,
                MandatoryCentralControl :centralControlOnMandatoryMonthlySaving,
                UnitFundCentralControl :centralControlOnUnitFundSaving,
                AdvRecOnCenterDate :advanceReceivedOnCenterMeeting,
                UnitFundSavingProductCode :unitFundSavingProduct,
                GenerateWelFareFundAcAuto :createWelFareFundSavingOnCenterCreation,

                XXIntCalMethod :null,
                AdvDeductionOrder :null,
                ClientPhotoPath :clientPhotoPath,
                JointClientPhotoPath :jointClientPhotoPath,
                NormalSavProductCode :normalSavingProductCode,
                Signature2Path :signature2Path,

                Signature1Path :signature1Path,
                OtherExpenseHead :otherExpensesAccountNo,
                FingerPrintRightPath :fingerPrintRightPath,
                FingerPrintLeftPath :fingerPrintLeftPath,
                LoanIntInDaysOrFixed :loanIntInDaysOrFixed,
                LoanIntCalcDays :loanIntCalcdays,

                EmployeePhotoPath :employeePhotoPath,
                XXLiveStockImgPath :null,
                PensionSavingPeriod :null,
                NonTreatSavingAcOnCollsht :null,
                CIBPath :null,
                CIBDPINum :null,

                CIBConsumerIIFVersionId :null,
                CIBMemberIIFVersionId :null,
                CIBConsumerNatureOfData :null,
                CIBMemberNatureOfData :null,
                IntCalcOnCollectionDate :null,
                InchargeShipCode :null,

                CITFundCode :citCode,
                AccountantEarningCode :null,
                AccountEarningAmt :null,
                AccountantDesignationCode :null,
                DurgamEarningCodeA :null,
                DurgamEarningCodeAA :null,

                HouseRentAllowanceCode :null,
                CapitalHouseRentPC :null,
                UniformExpensesCode: null,
                WarmUniformExpensesCode :null,
                RemoteAllowanceCode :null,
                PayrollOfficeCode :null,
                StaffBenefitProvAcHead :null,
                MedicalExpAcHead :null,
                LeaveEncashExpAcHead :null,
                FestivalExpAcHead :null,
                            Action:'U'
                        };


                        var wMsg='Updating....';

                        var waitSave = watiMsg(wMsg);

                        Ext.Ajax.request({
                                    url: '../Handlers/Supervisor/ControlTableHandler.ashx',
                                    params: {
                                        method:'SaveControlTable',
                                        controlTable:JSON.stringify(controlTable)
                                    },
                                    success: function(response){
                                    waitSave.hide();
                                    var out=Ext.decode(response.responseText);
                                    console.log(out);

                                    if(out.success==="true")
                                        {
                                            var message=out.root;
                                            if(message.OutResultCode==="SUCCESS")
                                                {
                                                    msg("SUCCESS",message.OutResultMessage,function(){

                                                    });



                                                }
                                            else
                                                {
                                                  msg("FAILURE",message.OutResultMessage);
                                                }
                                        }
                                        else
                                            {
                                                msg("FAILURE",out.message);
                                            }
                                    },
                                    failure: function ( result, request ) {
                                        waitSave.hide();
                                        var out=Ext.decode(response.responseText);
                                        msg("FAILURE",out.message);
                                    }

                                });



                        return true;
                    }
                });
    },

    onFrmMainControlFormAfterRender: function(component, eOpts) {
        var wMsg='Loading....';

        var waitGet = watiMsg(wMsg);

        Ext.Ajax.request({
            url: '../Handlers/Supervisor/ControlTableHandler.ashx',
            params: {
                method:'GetControlTable'
            },
            success: function(response){
                waitGet.hide();
                var data=Ext.decode(response.responseText);
                var rec=data.root[0];
                console.log('Control Table',rec.Action);


        //Company
        Ext.ComponentQuery.query('#txtInstitutionName')[0].setValue(rec.CompanyName);
        Ext.ComponentQuery.query('#txtAddress1')[0].setValue(rec.CompanyAddress1);
        Ext.ComponentQuery.query('#txtAddress2')[0].setValue(rec.CompanyAddress2);
        Ext.ComponentQuery.query('#txtMonthlyWeeklyProcess')[0].setValue(null);
        Ext.ComponentQuery.query('#txtInstallationDate')[0].setValue(rec.InstallationDate);
        Ext.ComponentQuery.query('#txtCurrentFiscalYear')[0].setValue(rec.CurrentFiscalYear);
        Ext.ComponentQuery.query('#txtLastFiscalYear')[0].setValue(rec.LastFiscalYear);
        Ext.ComponentQuery.query('#chkBudgetControl')[0].setValue(rec.BudgetControlYN==='Y'?true:false);
        Ext.ComponentQuery.query('#txtLocationCode')[0].setValue(rec.LocationCode);
        Ext.ComponentQuery.query('#chkControlFromCDMS')[0].setValue(rec.ControlFromCDMS==='Y'?true:false);
        Ext.ComponentQuery.query('#chkFixedSavingColAmount')[0].setValue(rec.FixdSavingColAmtYN==='Y'?true:false);

        //Account
        Ext.ComponentQuery.query('#txtCashAccountCode')[0].setValue(rec.CashAccountCode);
        Ext.ComponentQuery.query('#txtDefaultCurrencyCode')[0].setValue(rec.DefaultCurrencyCode);
        Ext.ComponentQuery.query('#txtCashBalanceGroupNo')[0].setValue(rec.CashBalanceGroupNo);
        Ext.ComponentQuery.query('#txtProfitLossAccHead')[0].setValue(rec.PLAccountHead);
        Ext.ComponentQuery.query('#txtSubCategoryNo')[0].setValue(rec.SubCategoryNo);
        Ext.ComponentQuery.query('#chkApprovalRangeControl')[0].setValue(rec.ApprovalRangeControl==='Y'?true:false);
        Ext.ComponentQuery.query('#txtOtherIncomeAccountNo')[0].setValue(rec.OtherIncomeHead);
        Ext.ComponentQuery.query('#txtOtherExpensesAccountNo')[0].setValue(rec.OtherExpenseHead);


        //Loan
        Ext.ComponentQuery.query('#chkAdvanceReceivedOnCenterMeeting')[0].setValue(rec.AdvRecOnCenterDate==='Y'?true:false);
        Ext.ComponentQuery.query('#txtMandatoryMonthlySavingProduct')[0].setValue(null);
        Ext.ComponentQuery.query('#txtMandatoryMonthlyCollAmount')[0].setValue(null);
        Ext.ComponentQuery.query('#txtUnitFundSavingProduct')[0].setValue(rec.UnitFundSavingProductCode);
        Ext.ComponentQuery.query('#txtUnitFundCollectionAmount')[0].setValue(rec.UnitFundCollectionAmt);
        Ext.ComponentQuery.query('#txtGeneralNormalLoanProductCode')[0].setValue(rec.GenLoanProductCode);
        Ext.ComponentQuery.query('#txtMFGeneralLoanAccCode')[0].setValue(rec.MFGenLoanAccCode);
        Ext.ComponentQuery.query('#txtDisasterSavingAccCode')[0].setValue(null);
        Ext.ComponentQuery.query('#txtMFPerFundAccCode')[0].setValue(null);
        Ext.ComponentQuery.query('#txtIntOnGeneralLoanAccCode')[0].setValue(rec.IntGenLoanAccCode);
        Ext.ComponentQuery.query('#txtMandatoryDeductionTypeCode')[0].setValue(rec.MandatoryDedTypeCode);
        Ext.ComponentQuery.query('#txtMissMonthToTakePaidAmount')[0].setValue(rec.MissMonToTakePaidAmt);
        Ext.ComponentQuery.query('#txtMandatoryAllowYears')[0].setValue(rec.MandatoryAllowYears);
        Ext.ComponentQuery.query('#txtMaxPeriodAdditionLoan')[0].setValue(rec.MaxPeriodAdditionalLoan);


        //Payroll
        Ext.ComponentQuery.query('#chkCreateWelFareFundSavingOnCenterCreation')[0].setValue(rec.WelFareSavingProductCode==='Y'?true:false);
        Ext.ComponentQuery.query('#txtOptionSavingProduct')[0].setValue(null);
        Ext.ComponentQuery.query('#txtDisasterSavingProduct')[0].setValue(null);
        Ext.ComponentQuery.query('#chkCentralControlOnMandatoryMonthlySaving')[0].setValue(rec.MandatoryCentralControl==='Y'?true:false);
        Ext.ComponentQuery.query('#chkCentralControlOnUnitFundSaving')[0].setValue(null);
        Ext.ComponentQuery.query('#txtStaffLoanProductCode')[0].setValue(rec.StaffLoanProductCode);
        Ext.ComponentQuery.query('#txtMicroEnterpriseAccCode')[0].setValue(null);
        Ext.ComponentQuery.query('#txtGroupFundLoanAccCode')[0].setValue(null);
        Ext.ComponentQuery.query('#txtMFEnterIntAccCode')[0].setValue(rec.MFEnterIntAccCode);
        Ext.ComponentQuery.query('#txtMFPensionAccCode')[0].setValue(rec.PensionSavingProductCode);
        Ext.ComponentQuery.query('#txtGenLoanProductCode')[0].setValue(rec.GenLoanProductCode);
        Ext.ComponentQuery.query('#txtMaxNoOfLoan')[0].setValue(rec.MaxNoOfLoan);
        Ext.ComponentQuery.query('#txtPeriodToTakePaidAmtMon')[0].setValue(null);


        Ext.ComponentQuery.query('#txtGradeSalaryCode')[0].setValue(rec.GradeSalaryCode);
        Ext.ComponentQuery.query('#txtBasicSalaryCode')[0].setValue(rec.BasicSalaryCode);
        Ext.ComponentQuery.query('#txtMinMedicalAllowance')[0].setValue(rec.MinMedicalAllowance);
        Ext.ComponentQuery.query('#txtOvertimeCode')[0].setValue(rec.OvertimeCode);
        Ext.ComponentQuery.query('#txtBonusCode')[0].setValue(rec.BonusCode);
        Ext.ComponentQuery.query('#txtCITCode')[0].setValue(rec.CitCode);
        Ext.ComponentQuery.query('#txtProvidendFundCode')[0].setValue(rec.PFCode);
        Ext.ComponentQuery.query('#txtProvidendFundPercent')[0].setValue(rec.PFPercentage);
        Ext.ComponentQuery.query('#txtOvertimeAllowed')[0].setValue(rec.OvertimeAllowed);
        Ext.ComponentQuery.query('#txtEarningDeductionCode')[0].setValue(rec.EarningDeductionCode);
        Ext.ComponentQuery.query('#txtMedicalAllowanceCode')[0].setValue(rec.MedicalAllowanceCode);
        Ext.ComponentQuery.query('#txtHouseLeaveCode')[0].setValue(rec.HouseLeaveCode);
        Ext.ComponentQuery.query('#txtBonusDays')[0].setValue(rec.BonusDays);
        Ext.ComponentQuery.query('#txtSickLeaveCode')[0].setValue(rec.SickLeaveCode);


        //Other New
        Ext.ComponentQuery.query('#txtClientPhotoPath')[0].setValue(rec.ClientPhotoPath);
        Ext.ComponentQuery.query('#txtJointClientPhotoPath')[0].setValue(rec.JointClientPhotoPath);
        Ext.ComponentQuery.query('#txtEmployeePhotoPath')[0].setValue(rec.EmployeePhotoPath);
        Ext.ComponentQuery.query('#txtNormalSavingProductCode')[0].setValue(rec.NormalSavProductCode);

        Ext.ComponentQuery.query('#txtSignature1Path')[0].setValue(rec.Signature1Path);
        Ext.ComponentQuery.query('#txtSignature2Path')[0].setValue(rec.Signature2Path);
        Ext.ComponentQuery.query('#txtFingerPrintLeftPath')[0].setValue(rec.FingerPrintLeftPath);
        Ext.ComponentQuery.query('#txtFingerPrintRightPath')[0].setValue(rec.FingerPrintRightPath);
        Ext.ComponentQuery.query('#txtLoanIntInDaysOrFixed')[0].setValue(rec.LoanIntInDaysOrFixed);
        Ext.ComponentQuery.query('#txtLoanIntCalcDays')[0].setValue(rec.LoanIntCalcDays);

            },
            failure: function ( result, request ) {
                waitGet.hide();
                var out=Ext.decode(response.responseText);
                msg("FAILURE",out.message);
            }

        });
    }

});