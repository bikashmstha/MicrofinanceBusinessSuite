/*
 * File: app/controller/TDSOffInsertRecPage.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.controller.TDSOffInsertRecPage', {
    extend: 'Ext.app.Controller',

    stores: [
        'TDSTranList',
        'TDSType'
    ],

    onBtnOffIRPTDSInsertVoucherClick: function(button, e, eOpts) {
        var dpfTran = Ext.ComponentQuery.query("#dpfOffIRPTDSTran")[0];
        var dpfPan = Ext.ComponentQuery.query("#dpfOffIRPTDSWithPan")[0];
        var dpfName = Ext.ComponentQuery.query("#dpfOffIRPTDSWithName")[0];
        var dpfFrom = Ext.ComponentQuery.query("#dpfOffIRPTDSFrom")[0];
        var dpfTo = Ext.ComponentQuery.query("#dpfOffIRPTDSTo")[0];
        var dpfType = Ext.ComponentQuery.query("#dpfOffIRPTDSType")[0];

        var vouchDate = Ext.ComponentQuery.query("#hdnOffIRPTDSvdate")[0];
        var username = Ext.ComponentQuery.query("#hdnOffIRPTDSuser")[0];
        var password = Ext.ComponentQuery.query("#hdnOffIRPTDSpwd")[0];
        var subDate = Ext.ComponentQuery.query("#hdnOffIRPTDSsubdate")[0];
        var email = Ext.ComponentQuery.query("#hdnOffIRPTDSmail")[0];
        var phoneNo = Ext.ComponentQuery.query("#hdnOffIRPTDSphone")[0];
        var add = Ext.ComponentQuery.query("#hdnOffIRPTDSadd")[0];
        var Tso = Ext.ComponentQuery.query("#hdnOffIRPTDStso")[0];
        var Ird = Ext.ComponentQuery.query("#hdnOffIRPTDSird")[0];

        var me = this;

        me.getController('MyApp.controller.TDSOffVoucherInformation').init();
        me.getController('MyApp.controller.TDSOffVoucherInformation').ShowVoucherInfo(dpfTran.getValue(),dpfPan.getValue(),dpfName.getValue(),dpfFrom.getValue(),dpfTo.getValue(),dpfType.getValue(),vouchDate.getValue(),username.getValue(),password.getValue(),subDate.getValue(),email.getValue(),phoneNo.getValue(),add.getValue(),Tso.getValue(),Ird.getValue());
    },

    ShowOffRec: function(tran, pan, name, from, to, type, vdate, user, pwd, subdate, mail, phone, addr, tso, ird) {
        Ext.getCmp('cntOMTDS').removeAll();

        var pnlDynamic = Ext.create('MyApp.view.TDSOffInsertRecPage');
        var pnlToRender = Ext.ComponentQuery.query("#cntOMTDS")[0];
        pnlToRender.add(pnlDynamic);

        var dpfTran = Ext.ComponentQuery.query("#dpfOffIRPTDSTran")[0];
        var dpfPan = Ext.ComponentQuery.query("#dpfOffIRPTDSWithPan")[0];
        var dpfName = Ext.ComponentQuery.query("#dpfOffIRPTDSWithName")[0];
        var dpfFrom = Ext.ComponentQuery.query("#dpfOffIRPTDSFrom")[0];
        var dpfTo = Ext.ComponentQuery.query("#dpfOffIRPTDSTo")[0];
        var dpfType = Ext.ComponentQuery.query("#dpfOffIRPTDSType")[0];

        var vouchDate = Ext.ComponentQuery.query("#hdnOffIRPTDSvdate")[0];
        var username = Ext.ComponentQuery.query("#hdnOffIRPTDSuser")[0];
        var password = Ext.ComponentQuery.query("#hdnOffIRPTDSpwd")[0];
        var subDate = Ext.ComponentQuery.query("#hdnOffIRPTDSsubdate")[0];
        var email = Ext.ComponentQuery.query("#hdnOffIRPTDSmail")[0];
        var phoneNo = Ext.ComponentQuery.query("#hdnOffIRPTDSphone")[0];
        var add = Ext.ComponentQuery.query("#hdnOffIRPTDSadd")[0];
        var Tso = Ext.ComponentQuery.query("#hdnOffIRPTDStso")[0];
        var Ird = Ext.ComponentQuery.query("#hdnOffIRPTDSird")[0];

        dpfTran.setValue(tran);
        dpfPan.setValue(pan);
        dpfName.setValue(name);
        dpfFrom.setValue(from);
        dpfTo.setValue(to);
        dpfType.setValue(type);

        vouchDate.setValue(vdate);
        username.setValue(user);
        password.setValue(pwd);
        subDate.setValue(subdate);
        email.setValue(mail);
        phoneNo.setValue(phone);
        add.setValue(addr);
        Tso.setValue(tso);
        Ird.setValue(ird);

        var store = Ext.getStore('TDSTranList');

        store.load({
            params:{TranNo:dpfTran.getValue(),vDate:vouchDate.getValue()}
        });

    },

    init: function(application) {
        this.control({
            "#btnOffIRPTDSInsertVoucher": {
                click: this.onBtnOffIRPTDSInsertVoucherClick
            }
        });
    }

});
